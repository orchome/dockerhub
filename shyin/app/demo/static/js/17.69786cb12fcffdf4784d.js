webpackJsonp([17],{IzyO:function(t,a){},"J+C6":function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("Xxa5"),i=s.n(e),n=s("Gu7T"),o=s.n(n),l=s("exGp"),r=s.n(l),c=s("Dd8w"),p=s.n(c),u=s("nEpe"),g=s("cS7h"),v=s("qERK"),d=s("GQaK"),h=s("SJI6"),_={components:{SearchPanel:u.a,Navigation:g.a,loading:v.a},computed:p()({},Object(h.mapGetters)({sex:"sex"})),data:function(){return{payList:[{}],page:1,total:1,loading:!1,scroll:"",pullingUpStart:!0}},methods:{postPayListFn:function(){var t=r()(i.a.mark(function t(){var a,s,e,n=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=["","阅读","打赏","全本订购"],this.loading=!0,t.next=4,this.$store.dispatch("postPayList",{page:this.page});case 4:200==(s=t.sent).code&&(this.total=s.data.last_page,(e=s.data.data).forEach(function(t){return t.event_name=a[t.type],t}),1==s.data.current_page?this.payList=e:this.payList=[].concat(o()(this.payList),o()(e)),this.pullingUpStart=!1,this.$nextTick(function(){200==s.code&&(s.data.current_page>=s.data.last_page?n.scroll&&(n.scroll.closePullUp(),n.scroll.refresh()):n.scroll&&(n.scroll.finishPullUp(),n.scroll.refresh()))})),this.loading=!1;case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),goHomeFn:function(){this.$router.push("/")},initBScroll:function(){var t=this;""==this.scroll?this.$nextTick(function(){t.scroll=new d.a(t.$refs.wrapper,{click:!0,pullUpLoad:{threshold:0}}),t.scroll.on("pullingUp",function(){t.page<t.total&&!t.loading&&(t.page++,t.pullingUpStart=!0,t.postPayListFn())})}):this.scroll.refresh()}},created:function(){this.postPayListFn()},mounted:function(){var t=this;this.$nextTick(function(){t.initBScroll()})}},f={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"buysign"},[e("navigation",[t._v("消费记录")]),t._v(" "),0==t.payList.length?e("div",{staticClass:"noImg"},[e("div",{staticClass:"noImg-img"},[e("div",{staticClass:"img-wrap"},[1==t.sex?e("img",{attrs:{src:s("cf7o"),alt:""}}):t._e(),t._v(" "),2==t.sex?e("img",{attrs:{src:s("bQf9"),alt:""}}):t._e()])]),t._v(" "),e("div",{staticClass:"Tips"},[t._v("亲，暂无消费记录～")]),t._v(" "),e("span",{staticClass:"gohome-button",on:{click:t.goHomeFn}},[t._v("去首页看看")])]):e("div",{staticClass:"box-container"},[e("div",{ref:"wrapper",staticClass:"wrapper"},[e("ul",[t._l(t.payList,function(a){return a.operate_style?e("li",{key:a.id},[e("div",{staticClass:"log"},[t._v(t._s(a.event_name)+"：《"+t._s(a.name)+"》")]),t._v(" "),e("div",{staticClass:"chapter"},[e("p",[t._v(t._s(a.book_chapter_name))]),t._v(" "),e("span",{staticClass:"detail"},[t._v(t._s(1==a.operate_style?a.coin_amount+"书币":a.coupon_amount+"书券"))])]),t._v(" "),e("div",{staticClass:"info"},[e("span",{staticClass:"time"},[t._v(t._s(a.created_at))])])]):t._e()}),t._v(" "),e("li",{directives:[{name:"show",rawName:"v-show",value:t.page>1,expression:"page>1"}],staticClass:"bottom-top"},[t.pullingUpStart?e("loading"):t._e(),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.pullingUpStart&&t.page<t.total,expression:"!pullingUpStart&&page<total"}],staticClass:"loading-hook"},[t._v("加载更多")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.pullingUpStart&&t.page>t.total,expression:"!pullingUpStart&&page>total"}],staticClass:"loading-hook"},[t._v("没有更多记录了")])],1)],2)])])],1)},staticRenderFns:[]};var m=s("VU/8")(_,f,!1,function(t){s("IzyO")},null,null);a.default=m.exports},bQf9:function(t,a,s){t.exports=s.p+"static/img/Record-null-g.bc1d482.png"},cf7o:function(t,a,s){t.exports=s.p+"static/img/Record-null-b.a6c3b6f.png"}});