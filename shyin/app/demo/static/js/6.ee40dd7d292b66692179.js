webpackJsonp([6],{"0gU3":function(t,s,i){t.exports=i.p+"static/img/avatar.9f98f9a.png"},"12Dz":function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=i("Xxa5"),e=i.n(a),c=i("exGp"),n=i.n(c),r=(i("34+y"),i("X+yh")),o=i.n(r),u=i("Dd8w"),l=i.n(u),v=i("SJI6"),h=i("Izdj"),p=i("X33V"),_=i.n(p),m={name:"my",components:{},computed:l()({},Object(v.mapGetters)({userList:"userList"})),mixins:[h.a],data:function(){return{check:!0,value:!1,isShow:"",is_automatic:!1,kefuimg:_.a}},watch:{isShow:function(t){document.querySelector("body").style.overflow=t?"hidden":""}},methods:{getKefuImg:function(){var t=this,s=window.location.origin.split(".")[0].split("//")[1].split("-")[0].substring(4);this.$store.dispatch("getKefuImg",{appkey:s}).then(function(s){s&&200==s.code&&s.data&&(t.kefuimg=s.data)})},copyID:function(){this.$copyText(this.userList.admin_id+"-"+this.userList.id).then(function(){o()("复制 ID 成功")})},changeAutoBuyFn:function(){this.check?this.postIsAutomaticFn(1):this.postIsAutomaticFn(0)},postIsAutomaticFn:function(){var t=n()(e.a.mark(function t(s){return e.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("postIsAutomatic",{is_automatic:s});case 2:200==t.sent.code&&this.$Toast({message:"修改成功！",duration:1500});case 4:case"end":return t.stop()}},t,this)}));return function(s){return t.apply(this,arguments)}}(),buysign:function(){this.$router.push({path:"/my/buysign"})},rechargeRecord:function(){this.$router.push({path:"/my/rechargeRecord"})},customerService:function(){this.$router.push({path:"/my/customerService"})},signlist:function(){this.$router.push({path:"/my/signlist"})},recharge:function(){this.goPayPathFn()},postUserListFn:function(){var t=n()(e.a.mark(function t(){var s;return e.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("postUserList");case 2:200==(s=t.sent).code&&(this.check=1==s.data.is_automatic);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),toPayFn:function(){this.goToPayFn({pay_type:2})}},created:function(){this.postUserListFn(),this.getKefuImg(),1==this.userList.is_automatic?this.is_automatic=!0:0==this.userList.is_automatic&&(this.is_automatic=!1)}},d={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"mycore"},[a("h1",{staticClass:"my-title"},[t._v("个人中心")]),t._v(" "),a("div",{staticClass:"mydata"},[a("div",{staticClass:"avatar",class:{vip:1==t.userList.annual_fee_type&&2==t.userList.is_vip}},[a("img",{attrs:{src:t.userList.avatar?t.userList.avatar:i("0gU3"),alt:""}})]),t._v(" "),a("div",{staticClass:"leftShift"},[a("div",{staticClass:"name"},[t._v(t._s(t.userList.nickname))]),t._v(" "),a("div",{staticClass:"idNumber",on:{click:t.copyID}},[t._v("ID:"+t._s(t.userList.admin_id)+"-"+t._s(t.userList.id)),a("span",{staticClass:"copyId"},[t._v("复制ID")])]),t._v(" "),2==t.userList.is_vip?a("p",{staticClass:"due_time"},[t._v("会员到期时间："+t._s(t.userList.due_time))]):t._e()])]),t._v(" "),a("div",{staticClass:"account"},[a("div",{staticClass:"money"},[a("div",{staticClass:"left"},[a("span",{staticClass:"text"},[t._v("我的账户")]),t._v(" "),a("span",{staticClass:"amount"},[t._v("余额：\n          "),a("span",[t._v(t._s(t.userList.coin))]),t._v("书币/\n          "),a("span",[t._v(t._s(t.userList.coupon))]),t._v("书券\n        ")])]),t._v(" "),a("div",{staticClass:"right",on:{click:t.recharge}},[a("span",[t._v("充值")])])]),t._v(" "),a("div",{staticClass:"sign user-li",on:{click:t.signlist}},[t._m(0),t._v(" "),a("div",{staticClass:"right"},[a("span",[t._v("连续签到"+t._s(t.userList.sign_number)+"天")]),t._v(" "),a("span",{staticClass:"iconfont icon-jiantouzuo arrow-right"})])])]),t._v(" "),1==t.userList.annual_fee_type&&1==t.userList.is_vip?a("div",{staticClass:"VIP",on:{click:t.toPayFn}},[t._m(1)]):t._e(),t._v(" "),a("div",{staticClass:"box-wrapper"},[a("div",{staticClass:"user-li boder-bottom-1px ",class:{vip:1==t.userList.annual_fee_type&&1==t.userList.is_vip},on:{click:t.buysign}},[t._m(2),t._v(" "),t._m(3)]),t._v(" "),a("div",{staticClass:"user-li",on:{click:t.rechargeRecord}},[t._m(4),t._v(" "),t._m(5)])]),t._v(" "),1==t.userList.is_vip?a("div",{staticClass:"box-wrapper",staticStyle:{"margin-top":".2rem"}},[a("div",{staticClass:"user-li"},[t._m(6),t._v(" "),a("div",{staticClass:"right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.check,expression:"check"}],attrs:{type:"checkbox",id:"switch"},domProps:{checked:Array.isArray(t.check)?t._i(t.check,null)>-1:t.check},on:{change:[function(s){var i=t.check,a=s.target,e=!!a.checked;if(Array.isArray(i)){var c=t._i(i,null);a.checked?c<0&&(t.check=i.concat([null])):c>-1&&(t.check=i.slice(0,c).concat(i.slice(c+1)))}else t.check=e},t.changeAutoBuyFn]}}),t._v(" "),a("label",{attrs:{for:"switch"}})])])]):t._e(),t._v(" "),a("div",{staticClass:"box-wrapper",staticStyle:{"margin-top":".2rem"}},[a("div",{staticClass:"user-li",on:{click:function(s){t.isShow=!0}}},[t._m(7),t._v(" "),t._m(8)])]),t._v(" "),t.isShow?a("div",{staticClass:"background"},[a("div",{staticClass:"popup"},[a("div",{staticClass:"title"},[t._v("联系客服")]),t._v(" "),a("img",{attrs:{src:t.kefuimg,alt:""}}),t._v(" "),a("div",{staticClass:"popup-text1"},[t._v("1、长按二维码扫描，添加客服微信")]),t._v(" "),a("div",{staticClass:"popup-text2"},[t._v("2、拨打客服电话：400-0055-567")]),t._v(" "),a("div",{staticClass:"delete",on:{click:function(s){t.isShow=!1}}},[a("img",{attrs:{src:i("bL9e"),alt:""}})])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"left"},[s("span",{staticClass:"icon-sign icon"}),this._v(" "),s("span",[this._v("签到送书券")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"vip-img-wrapper"},[s("img",{staticClass:"vip-img",attrs:{src:i("SgW8"),alt:""}}),this._v(" "),s("img",{staticClass:"gobuy",attrs:{src:i("Mz5i"),alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"left"},[s("span",{staticClass:"icon-buy icon"}),this._v(" "),s("span",[this._v("消费记录")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"right"},[s("span",{staticClass:"iconfont icon-jiantouzuo arrow-right"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"left"},[s("span",{staticClass:"icon-recharge icon"}),this._v(" "),s("span",[this._v("充值/签到记录")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"right"},[s("span",{staticClass:"iconfont icon-jiantouzuo arrow-right"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"left"},[s("span",{staticClass:"icon-money icon"}),this._v(" "),s("span",[this._v("自动购买下一章")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"left"},[s("span",{staticClass:"icon-contact icon"}),this._v(" "),s("span",[this._v("联系客服")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"right"},[s("span",{staticClass:"iconfont icon-jiantouzuo arrow-right"})])}]};var f=i("VU/8")(m,d,!1,function(t){i("myMN")},"data-v-67a61915",null);s.default=f.exports},Mz5i:function(t,s,i){t.exports=i.p+"static/img/goicon.30242e6.png"},SgW8:function(t,s,i){t.exports=i.p+"static/img/my-pay-365.f994d1f.png"},X33V:function(t,s,i){t.exports=i.p+"static/img/contactma.83b98c0.png"},bL9e:function(t,s,i){t.exports=i.p+"static/img/caca.6cc3941.png"},myMN:function(t,s){}});