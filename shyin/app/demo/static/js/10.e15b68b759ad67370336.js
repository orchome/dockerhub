webpackJsonp([10],{"5WIk":function(t,i){},Hg1G:function(t,i,s){t.exports=s.p+"static/img/activityover.0d69e50.png"},Obmv:function(t,i,s){t.exports=s.p+"static/img/refill.1263879.png"},RbSy:function(t,i,s){t.exports=s.p+"static/img/frist.98e5f37.png"},sZNU:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s("Xxa5"),a=s.n(e),n=s("exGp"),r=s.n(n),c=s("Dd8w"),o=s.n(c),u=s("SJI6"),v={name:"activity",components:{},mixins:[s("Izdj").a],computed:o()({},Object(u.mapGetters)({userList:"userList",activitydata:"activitydata"})),data:function(){return{type:-1,time:"1",msg:{},user:{recharge_number:0}}},beforeCreate:function(){},created:function(){this.getActivityFn()},methods:{otherPayFn:function(){this.goPayPathFn()},goHomeFn:function(){this.$router.push("/")},postUserListFn:function(){var t=r()(a.a.mark(function t(){var i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("postUserList");case 2:200==(i=t.sent).code&&(this.user=i.data,0!=i.data.recharge_number?this.getFirstActivity():this.getActivityFn());case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),activity:function(){this.$router.push({path:"/"})},timeStatus:function(t,i){var s=Number(new Date),e=Number(new Date(t.replace(/-/g,"/"))),a=Number(new Date(i.replace(/-/g,"/")));e>s?this.type=0:a>=s&&s>=e?this.type=1:s>a&&(this.type=2)},getActivityFn:function(){var t=r()(a.a.mark(function t(){var i,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.$route.params.id,t.next=3,this.$store.dispatch("getActivity",{id:i});case 3:200==(s=t.sent).code&&(s.data&&1==s.data.status?(this.timeStatus(s.data.start_time,s.data.end_time),this.msg=s.data):this.type=3);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),pay:function(){this.goToPayFn({pay_type:3,id:this.$route.params.id})}}},p={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"activity"}},[1==t.type?e("div",[e("div",{class:{first:1==t.msg.join_condition}},[e("div",{staticClass:"activity-image-box"},[e("div",[t._v("\n          充值"+t._s(t.msg.recharge)+"元送"+t._s(t.msg.gift)+"元，得"+t._s(100*t.msg.recharge+"书币和"+100*t.msg.gift+"书券")+"\n        ")]),t._v(" "),1==t.msg.join_condition?e("img",{attrs:{src:s("RbSy"),alt:""}}):e("img",{attrs:{src:s("Obmv"),alt:""}})]),t._v(" "),t.msg.buy_limit_num>t.msg.join_num?e("div",{staticClass:"payButton",on:{click:t.pay}},[t._v("立即充值")]):e("div",{staticClass:"payButton",on:{click:t.otherPayFn}},[t._v("该活动已达充值上限，选择其他方式充值")]),t._v(" "),e("div",{staticClass:"instructions"},[e("div",[t._v("活动时间："+t._s(t.msg.start_time)+" 至 "+t._s(t.msg.end_time))]),t._v(" "),e("div",[t._v("限充次数:每人限充"+t._s(t.msg.buy_limit_num)+"次")]),t._v(" "),e("div",[t._v("注意事项:该充值为书币充值，书币为虚拟货币，充值成功一概不退换")])]),t._v(" "),e("div",{staticClass:"position goHome",on:{click:t.goHomeFn}})])]):e("div",{attrs:{id:"status"}},[0==t.type?e("div",[e("img",{attrs:{src:s("tQSf"),alt:""}}),t._v(" "),e("div",{staticClass:"text"},[t._v("活动尚未开始,敬请期待")]),t._v(" "),e("div",{staticClass:"payButton",on:{click:t.otherPayFn}},[t._v("选择其他充值金额")])]):t._e(),t._v(" "),2==t.type||3==t.type?e("div",[e("img",{attrs:{src:s("Hg1G"),alt:""}}),t._v(" "),e("div",{staticClass:"text"},[t._v("抱歉，活动已经结束")]),t._v(" "),e("div",{staticClass:"payButton",on:{click:t.otherPayFn}},[t._v("选择其他充值金额")])]):t._e()])])},staticRenderFns:[]};var d=s("VU/8")(v,p,!1,function(t){s("5WIk")},null,null);i.default=d.exports},tQSf:function(t,i,s){t.exports=s.p+"static/img/expect.a92efb7.png"}});