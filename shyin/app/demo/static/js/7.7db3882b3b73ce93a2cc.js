webpackJsonp([7],{"1Tow":function(t,e,i){t.exports=i.p+"static/img/pop-attention-bg.95488fd.png"},"5PMq":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("Xxa5"),s=i.n(o),n=i("exGp"),a=i.n(n),r=i("Dd8w"),c=i.n(r),d=i("SJI6"),h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"concern-dialog"}},[i("div",{staticClass:"wrapper"},[i("div",{staticClass:"content"},[t._m(0),t._v(" "),i("div",{staticClass:"kf-content"},[i("div",{staticClass:"kf"},[i("img",{attrs:{src:t.qrcode,alt:""}})]),t._v(" "),t._m(1)])]),t._v(" "),t.hidden?i("div",{staticClass:"close",on:{click:t.hiddenFn}}):t._e()]),t._v(" "),i("img",{staticStyle:{position:"fixed","z-index":"999999999",top:"50%",left:"0px",width:"100%","-webkit-transform":"translateY(-50%)",opacity:"0.0"},attrs:{src:t.qrcode,alt:""}})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("p",[this._v("亲爱的读者：")]),this._v(" "),e("p",[this._v("\n          因版权问题，请关注作者授权公众号，方便\n          "),e("span",[this._v("继续阅读")]),this._v("，关注后可看海量精品小说，更有签到好礼每天赠送\n        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text"},[e("p",[this._v("长按上图识别二维码")])])}]};var p=i("VU/8")({props:["qrcode","hidden","fhiddenFn"],computed:{},data:function(){return{img:"",random:""}},methods:{hiddenFn:function(){this.fhiddenFn&&this.fhiddenFn()}},mounted:function(){}},h,!1,function(t){i("kOKc")},null,null).exports,l=i("FJDl"),_=i.n(l),u={components:{ConcernDialog:p},computed:c()({},Object(d.mapGetters)({getReadExtrapolationData:"getReadExtrapolationData"}),{getContent:function(){return this.htmlArr.length>0?this.htmlArr[this.nowPage]:""}}),watch:{nowPage:function(t){console.log(t)},dialogShow:function(t){t||(this.showMenu=!1)},showMenu:function(t){t?(document.querySelector("body").style.overflow="hidden",document.querySelector("body").style.height="100%",document.querySelector("html").style.overflow="hidden",document.querySelector("html").style.height="100%"):(this.reportShow=!1,document.querySelector("body").style.overflow="",document.querySelector("body").style.height="",document.querySelector("html").style.overflow="",document.querySelector("html").style.height="")}},data:function(){return{fonts:4,isLoad:!1,is_last:!1,is_first:!1,htmlArr:[],nowPage:0,isSend:!0,isClick:!0,isClick2:!0,bookIdNextchapter:[],is_focus:!1,qrcode:"",qrcode_img:null,jubaoimg:_.a,dialogShow:!1,showMenu:!1,qrcodeJieKouIsSend:!1}},methods:{postUserreport:function(){var t=a()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("postReport2",{remark:e});case 2:200==t.sent.code?(this.$Toast({message:"举报成功",duration:1500}),this.showMenu=!1):(this.$Toast({message:"举报失败",duration:1500}),this.showMenu=!1);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),fhiddenFn:function(){this.is_focus=!1},clickPanLeftFn:function(){this.fonts>0&&this.fonts--},clickPanRightFn:function(){this.fonts<7&&this.fonts++},getHtml:function(t){var e=t.data,i='<div class="wenzhang_header"><h3 class="wenzhang_header_h3">'+e.name+'</h3><div class="wenzhang_header_div" onclick="window.jubao()"><div class="wenzhang_header_position"><img class="wenzhang_header_img" src="'+this.jubaoimg+'" /><span class="wenzhang_header_text">举报</span></div></div></div>';return e.content.indexOf("<br>")<0&&e.content.indexOf("<br/>")<0?(e.content=e.content.replace(/\n/g,"龘").split("龘"),e.content.forEach(function(t){t=t.trimAll(),i=i+"<p>"+t+"</p>"})):e.conetnt.indexOf("<br>")>-1?(e.content=e.content.replace(/\n/g,"<br>").split("<br>"),e.content.forEach(function(t){t=t.trimAll(),i=i+"<p>"+t+"</p>"})):e.conetnt.indexOf("<br/>>")>-1?(e.content=e.content.replace(/\n/g,"<br/>").split("<br/>"),e.content.forEach(function(t){t=t.trimAll(),i=i+"<p>"+t+"</p>"})):i=i+"<p>"+e.content+"</p>",i},getReadExtrapolation:function(t,e,i){var o=this;this.isLoad=!1;var s=this.isSend?"1":"0";this.$store.dispatch("getReadExtrapolation",{book_id:t,chapter_id:e,pid:i,send_one:s}).then(function(t){if(200==t.code){if(1==t.is_report)return o.$router.push("/404?static=1"),document.title="",!1;if(t.popup&&o.isSend)return o.isSend=!1,o.isLoad=!0,o.is_last=0==t.next_chapter,o.is_first=0==t.prev_chapter,o.getQrcode(o.$route.query.pid,o.$route.query.bookid,t.data.id,t.attention_qrcode_type,t.data.sort,t.appid),!1;t.popup&&!o.qrcodeJieKouIsSend&&(console.log(2),o.getQrcode3(o.$route.query.pid,o.$route.query.bookid,t.data.id,t.attention_qrcode_type,t.data.sort,t.appid));var e=o.getHtml(t);o.htmlArr.push(e),o.bookIdNextchapter.push({next_chapter_id:t.next_chapter,prev_chapter_id:t.prev_chapter,book_id:t.data.book_id,pid:i,popup:t.popup,title:t.data.bookname,attention_qrcode_type:t.attention_qrcode_type,qrcode:t.data.qr_code?t.data.qr_code:null,id:t.data.id,sort:t.data.sort,appid:t.appid}),o.qrcode_img=t.data.qr_code?t.data.qr_code:null,o.isLoad=!0,o.isClick=!0,o.isSend&&(document.title=t.data.bookname,o.is_last=0==t.next_chapter,o.is_first=0==t.prev_chapter,o.isSend=!1,o.isClick=!0,t.next_chapter>0&&o.sendGetRead(t.data.book_id,t.next_chapter,i))}})},getReadExtrapolation2:function(t,e,i){var o=this,s=this.isSend?"1":"0";this.$store.dispatch("getReadExtrapolation",{book_id:t,chapter_id:e,pid:i,send_one:s}).then(function(t){if(200==t.code){var e=o.getHtml(t);o.htmlArr.unshift(e),console.log(o.htmlArr,"__-that.htmlArr.length"),o.is_last=0==t.next_chapter,o.is_first=0==t.prev_chapter,t.popup&&!o.qrcodeJieKouIsSend&&(console.log(2),o.getQrcode3(o.$route.query.pid,o.$route.query.bookid,t.data.id,t.attention_qrcode_type,t.data.sort,t.appid)),o.bookIdNextchapter.unshift({next_chapter_id:t.next_chapter,prev_chapter_id:t.prev_chapter,book_id:t.data.book_id,pid:i,popup:t.popup,title:t.data.bookname,attention_qrcode_type:t.attention_qrcode_type,qrcode:t.data.qr_code?t.data.qr_code:null,id:t.data.id,sort:t.data.sort,appid:t.appid}),o.qrcode_img=t.data.qr_code?t.data.qr_code:null,o.isClick2=!0,document.title=t.data.bookname,o.nowPage=0}})},clickNextFn:function(){if(this.isClick){this.isClick=!1;var t=this.nowPage+1;if(t>this.htmlArr.length-1&&this.bookIdNextchapter[this.bookIdNextchapter.length-1].next_chapter_id<=0)return this.$Toast({message:"已是最后一章！",duration:1500}),this.isClick=!0,!1;if(t<=this.htmlArr.length-1&&this.bookIdNextchapter[this.bookIdNextchapter.length-1].next_chapter_id>=0){if(this.isClick=!0,this.bookIdNextchapter[t].popup)return this.getQrcode(this.$route.query.pid,this.$route.query.bookid,this.bookIdNextchapter[this.nowPage].next_chapter_id,this.bookIdNextchapter[t].attention_qrcode_type,this.bookIdNextchapter[t].sort,this.bookIdNextchapter[this.nowPage].appid),!1;this.is_last=0==this.bookIdNextchapter[t].next_chapter_id,this.is_first=0==this.bookIdNextchapter[t].prev_chapter_id,this.nowPage=t}if(this.nowPage==this.htmlArr.length-1){var e=this.bookIdNextchapter[this.bookIdNextchapter.length-1];if(e.next_chapter_id<=0)return!1;var i=e.book_id,o=e.next_chapter_id,s=e.pid;this.sendGetRead(i,o,s)}setTimeout(function(){window.scrollTo(0,0)},100)}},clickPreFn:function(){if(this.isClick2){this.isClick2=!1;var t=0;if(this.nowPage<=0){var e=this.bookIdNextchapter[this.nowPage],i=e.book_id,o=e.prev_chapter_id,s=e.pid;return o<=0?(this.isClick2=!0,this.$Toast({message:"已是第一章！",duration:1500}),!1):(this.getReadExtrapolation2(i,o,s),!1)}if(t=this.nowPage-1,this.bookIdNextchapter[t].popup)return this.getQrcode(this.$route.query.pid,this.$route.query.bookid,this.bookIdNextchapter[this.nowPage].prev_chapter_id,this.bookIdNextchapter[t].attention_qrcode_type,this.bookIdNextchapter[t].sort,this.bookIdNextchapter[this.nowPage].appid),!1;this.is_last=0==this.bookIdNextchapter[t].next_chapter_id,this.is_first=0==this.bookIdNextchapter[t].prev_chapter_id,this.nowPage=t,this.isClick2=!0,setTimeout(function(){window.scrollTo(0,0)},100)}},sendGetRead:function(t,e,i){this.getReadExtrapolation(t,e,i)},getQrcode2:function(t,e){if(this.qrcode=t,e&&1==e){localStorage.setItem("pageQRcode_qrcode",this.qrcode);var i=window.location.origin+"/page_qrcode_static?outer_promote_link=1";window.location.href=i}else this.is_focus=!0},getQrcode3:function(t,e,i,o,s,n){var a=this;this.$store.dispatch("getRedisQrCode",{pid:t,book_id:e,chapter_id:i,sort:s,appid:n}).then(function(t){a.qrcodeJieKouIsSend=!0,a.qrcode=t.data?t.data:""})},getQrcode:function(t,e,i,o,s,n){var a=this;if(this.qrcodeJieKouIsSend&&this.qrcode)if(o&&1==o){localStorage.setItem("pageQRcode_qrcode",this.qrcode);var r=window.location.origin+"/page_qrcode_static?outer_promote_link=1";window.location.href=r}else this.is_focus=!0;else this.$store.dispatch("getRedisQrCode",{pid:t,book_id:e,chapter_id:i,sort:s,appid:n}).then(function(t){if(console.log(t,"___res"),a.qrcode=t.data?t.data:"",o&&1==o){localStorage.setItem("pageQRcode_qrcode",a.qrcode);var e=window.location.origin+"/page_qrcode_static?outer_promote_link=1";window.location.href=e}else a.is_focus=!0;console.log(t,"___JJJ",o)})}},created:function(){var t=this,e=this.$route.query.bookid,i=this.$route.query.chapterid,o=this.$route.query.pid;this.sendGetRead(e,i,o),window.jubao=function(){t.showMenu=!0}},mounted:function(){}},f={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"read-2"}},[o("div",{staticClass:"read-top"},[t._m(0),t._v(" "),o("div",{staticClass:"read-top-setting"},[o("div",{staticClass:"read-top-setting-color-box",staticStyle:{visibility:"hidden"}},t._l(4,function(e,i){return o("div",{key:i,staticClass:"read-top-color",class:[t.background==i?"read-top-color-ac":"","read-top-color-"+e]},[o("div",{class:[3==i?"have-moon":""]})])})),t._v(" "),o("div",{staticClass:"read-top-setting-font"},[o("img",{attrs:{src:i("GKN6"),alt:""},on:{click:t.clickPanLeftFn}}),t._v(" "),o("img",{attrs:{src:i("m96f"),alt:""},on:{click:t.clickPanRightFn}})])])]),t._v(" "),o("article",{class:"level"+t.fonts,staticStyle:{"min-height":"100vh"},domProps:{innerHTML:t._s(t.getContent)}}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoad,expression:"isLoad"}],staticClass:"read-page"},[o("ul",[o("li",{staticClass:"next"},[o("p",{class:"level"+t.fonts,on:{click:t.clickNextFn}},[o("span",[t._v(t._s(t.is_last?"最后一章":"下一章"))])])])]),t._v(" "),o("div",{staticClass:"read-min-page"},[o("p",{class:"level"+t.fonts},[o("span",{on:{click:t.clickPreFn}},[t._v(t._s(t.is_first?"已是第一章":"上一章"))])])])]),t._v(" "),o("ConcernDialog",{directives:[{name:"show",rawName:"v-show",value:t.is_focus,expression:"is_focus"}],attrs:{qrcode:t.qrcode,hidden:!0,fhiddenFn:t.fhiddenFn}}),t._v(" "),o("img",{staticStyle:{position:"fixed",width:"100px",height:"100px","z-index":"-9",top:"-99999999px",left:"-9999999px"},attrs:{src:i("1Tow"),alt:""}}),t._v(" "),t.qrcode_img?o("img",{staticStyle:{position:"fixed",width:"100px",height:"100px","z-index":"-9",top:"-99999999px",left:"-9999999px"},attrs:{src:t.qrcode_img,alt:""}}):t._e(),t._v(" "),o("div",{staticClass:"report",class:{"show-menu":t.showMenu},staticStyle:{}},[o("div",{staticClass:"mask",on:{click:function(e){t.showMenu=!1}}}),t._v(" "),o("div",{staticClass:"action-sheet",class:{active:!t.dialogShow&&t.showMenu}},[o("ul",{staticClass:"action-sheet-list"},[o("li",{staticClass:"reason"},[t._v("请选择举报原因")]),t._v(" "),o("li",{staticClass:"type",on:{click:function(e){t.postUserreport("色情低俗")}}},[t._v("色情低俗")]),t._v(" "),o("li",{staticClass:"type",on:{click:function(e){t.postUserreport("暴力血腥")}}},[t._v("暴力血腥")]),t._v(" "),o("li",{staticClass:"type",on:{click:function(e){t.postUserreport("欺诈广告")}}},[t._v("欺诈广告")]),t._v(" "),o("li",{staticClass:"type",on:{click:function(e){t.postUserreport("政治敏感")}}},[t._v("政治敏感")]),t._v(" "),o("li",{staticClass:"type mb2",on:{click:function(e){t.postUserreport("其他原因")}}},[t._v("其他原因")]),t._v(" "),o("li",{staticClass:"cancel",on:{click:function(e){t.showMenu=!1}}},[t._v("取消")])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"read-top-nav",staticStyle:{display:"none"}},[e("div",[this._v("首页")]),this._v(" "),e("span"),this._v(" "),e("div",[this._v("阅读历史")]),this._v(" "),e("span"),this._v(" "),e("div",[this._v("更多")])])}]};var v=i("VU/8")(u,f,!1,function(t){i("ANhS")},null,null);e.default=v.exports},ANhS:function(t,e){},FJDl:function(t,e,i){t.exports=i.p+"static/img/jubao_icon.53155e2.png"},GKN6:function(t,e,i){t.exports=i.p+"static/img/font-sub.a784af8.png"},kOKc:function(t,e){},m96f:function(t,e,i){t.exports=i.p+"static/img/font-add.e6aff7d.png"}});