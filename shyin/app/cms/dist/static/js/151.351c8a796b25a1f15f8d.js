webpackJsonp([151],{Iumh:function(n,t,e){var a=e("bGu8");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("13edba77",a,!0)},MKpj:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("Xxa5"),i=e.n(a),s=e("exGp"),l=e.n(s),r=e("Dd8w"),o=e.n(r),c=e("NYxO"),p=e("0xDb"),d={computed:o()({},Object(c.b)({cmIncomeList:"cmIncomeList"})),watch:{},data:function(){return{loading:!1,params:{start_time:"",end_time:"",page:1},total:0}},created:function(){this.getTableData()},methods:{getTableData:function(){var n=this;return l()(i.a.mark(function t(){var e,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=n.$route.params.id,(a=n._.cloneDeep(n.params)).book_id=e,n.loading=!0,n.$store.dispatch("getIncomeList",a).then(function(t){n.total=t.data.total,n.loading=!1});case 5:case"end":return t.stop()}},t,n)}))()},handleCurrentChange:function(n){this.params.page=n,this.getTableData()},getSearch:function(){this.params.page=1,this.getTableData()},getBack:function(){this.$router.go(-1)},getExcel:function(){var n=this.$route.params.id,t="/admin/books_income_export?";t+="page="+this.params.page,t+="&start="+this.params.start_time,t+="&end="+this.params.end_time,t+="&book_id="+n,0!=this.cmIncomeList.total?window.open(t):Object(p.i)("没有要导出的数据","warning")}}},m={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"bar"},[n._v("\n      实际总收入:"),e("div",{staticStyle:{"font-size":"26px",color:"red",display:"inline-block"}},[n._v(n._s(n.total))])]),n._v(" "),e("div",{staticClass:"bar flex"},[e("div",{staticClass:"flex-left"},[e("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[n._v("起始日期：")]),n._v(" "),e("el-date-picker",{attrs:{type:"datetime",placeholder:"选择开始日期","value-format":"yyyy-MM-dd"},model:{value:n.params.start_time,callback:function(t){n.$set(n.params,"start_time",t)},expression:"params.start_time"}}),n._v(" "),e("label",{staticClass:"radio-label"},[n._v("结束日期：")]),n._v(" "),e("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd",placeholder:"选择结束日期"},model:{value:n.params.end_time,callback:function(t){n.$set(n.params,"end_time",t)},expression:"params.end_time"}})],1),n._v(" "),e("div",{staticClass:"flex-right"},[e("el-button",{staticClass:"search",attrs:{type:"primary",size:"mini"},on:{click:n.getSearch}},[n._v("查询")]),n._v(" "),e("el-button",{staticClass:"search",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:n.getExcel}},[n._v("导出Excel")]),n._v(" "),e("el-button",{staticClass:"search",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:n.getBack}},[n._v("返回")])],1)]),n._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticStyle:{width:"100%","text-align":"center"},attrs:{data:n.cmIncomeList.data,border:"",stripe:""}},[e("el-table-column",{attrs:{type:"index",label:"序号","min-width":"80",fixed:"",align:"center"}}),n._v(" "),e("el-table-column",{attrs:{prop:"date",label:"日期","min-width":"150","show-overflow-tooltip":"",align:"center"}}),n._v(" "),e("el-table-column",{attrs:{prop:"book_id",label:"书籍ID","min-width":"120",align:"center"}}),n._v(" "),e("el-table-column",{attrs:{prop:"book_name",label:"书籍名称","min-width":"120","show-overflow-tooltip":"",align:"center"}}),n._v(" "),e("el-table-column",{attrs:{prop:"sumreal",label:"实际收入","min-width":"120","show-overflow-tooltip":"",align:"center"}})],1),n._v(" "),e("div",{staticClass:"pagination-container clearfix"},[e("div",{staticClass:"align-center"},[e("global-pagination",{attrs:{background:"","current-page":n.params.page,"page-size":n.params.per_page,layout:"total, sizes, prev, pager, next, jumper",total:n.cmIncomeList.total},on:{"current-change":n.handleCurrentChange,"size-change":n.handleSizeChange}})],1)])],1)},staticRenderFns:[]};var u=e("VU/8")(d,m,!1,function(n){e("Iumh")},null,null);t.default=u.exports},bGu8:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])}});