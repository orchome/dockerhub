webpackJsonp([82],{"+V0r":function(n,t,a){var e=a("4mE7");"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);a("rjj0")("08696061",e,!0)},"4mE7":function(n,t,a){(n.exports=a("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},J2w8:function(n,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a("bOdI"),o=a.n(e),s=a("Xxa5"),l=a.n(s),i=a("exGp"),r=a.n(i),c=a("Dd8w"),u=a.n(c),_=a("NYxO"),v=a("TIfe"),p={computed:u()({},Object(_.b)({})),watch:{},data:function(){return{book:{},grates:[{value:0,label:"没有签约"},{value:1,label:"SS"},{value:2,label:"S"},{value:3,label:"A"},{value:4,label:"B"}],serialStatus:[{value:1,label:"连载中"},{value:2,label:"暂停"},{value:3,label:"完本"}],status:[{value:0,label:"下架"},{value:1,label:"上架"},{value:2,label:"审核中"},{value:3,label:"审核未通过"}],signs:[{value:0,label:"无签约"},{value:1,label:"全勤签约"},{value:2,label:"保底签约"},{value:3,label:"买断签约"}],value:"",loading:!1,size:20,params:{page:1},list:{data:[],total:0},book_id:this.$route.params.id}},created:function(){this.$route.params&&this.$route.params.id&&this.getAuthorBookDetail()},methods:{getAuthorBookDetail:function(){var n=r()(l.a.mark(function n(){var t,a;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.loading=!0,(t=this._.cloneDeep(this.params)).id=this.book_id,n.next=5,this.$store.dispatch("getAuthorBookDetali",t);case 5:a=n.sent,this.loading=!1,200==a.code&&(a.data.list.data.forEach(function(n){n.time=n.year+"-"+n.month}),this.book=a.data.book,this.list={data:a.data.list.data,total:a.data.list.total});case 8:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),handleCurrentChange:function(n){this.params.page=n,this.getAuthorBookDetail()},postAuthorBookModifyFn:function(){var n=r()(l.a.mark(function n(t,a,e){var s=this;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.$store.dispatch("postAuthorBookModify",o()({url:t,book_id:this.book_id},a,e));case 2:200==n.sent.code?3==e?this.$prompt("请输入审核未通过原因","提示",{confirmButtonText:"确定",showCancelButton:!1,closeOnClickModal:!1,closeOnPressEscape:!1,showClose:!1}).then(function(n){var t=n.value;s.postChapterSendMsg(s.book_id,3,t)}).catch(function(){}):this.$message({message:"修改成功!",type:"success",duration:1500}):this.getAuthorBookDetail();case 4:case"end":return n.stop()}},n,this)}));return function(t,a,e){return n.apply(this,arguments)}}(),postChapterSendMsg:function(){var n=r()(l.a.mark(function n(t,a){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.$store.dispatch("postChapterSendMsg",{uid:Object(v.c)(),chapter_id:t,status:a,content:e});case 2:200==n.sent.code&&this.$message({duration:1500,message:"提交成功！",type:"success"});case 4:case"end":return n.stop()}},n,this)}));return function(t,a){return n.apply(this,arguments)}}()}},d={render:function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"bar"},[a("div",{staticClass:"table-info"},[a("ul",{staticClass:"table-info-wrapper"},[a("li",[a("div",{staticClass:"cell"},[a("span",[n._v("小说ID")]),n._v(" "),a("span",[n._v(n._s(n.book.id))])]),n._v(" "),a("div",{staticClass:"cell"},[a("span",[n._v("小说名称")]),n._v(" "),a("span",[n._v(n._s(n.book.name))])]),n._v(" "),a("div",{staticClass:"cell"},[a("span",[n._v("作者ID")]),n._v(" "),a("span",[n._v(n._s(n.book.user_id))])]),n._v(" "),a("div",{staticClass:"cell"},[a("span",[n._v("作者笔名")]),n._v(" "),a("span",[n._v(n._s(n.book.author&&n.book.author.pen_name?n.book.author.pen_name:"-"))])])]),n._v(" "),a("li",[a("div",{staticClass:"cell"},[a("span",[n._v("所属分类")]),n._v(" "),a("span",[n._v(n._s(n.book.category&&n.book.category.cat_name?n.book.category.cat_name:"-"))])]),n._v(" "),a("div",{staticClass:"cell"},[a("span",[n._v("连载状态")]),n._v(" "),a("span",[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){n.postAuthorBookModifyFn("book_serial_status_edit","serial_status",t)}},model:{value:n.book.serial_status,callback:function(t){n.$set(n.book,"serial_status",t)},expression:"book.serial_status"}},n._l(n.serialStatus,function(n){return a("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}))],1)]),n._v(" "),a("div",{staticClass:"cell"},[a("span",[n._v("小说状态")]),n._v(" "),a("span",[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){n.postAuthorBookModifyFn("book_status_edit","status",t)}},model:{value:n.book.status,callback:function(t){n.$set(n.book,"status",t)},expression:"book.status"}},n._l(n.status,function(n){return a("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}))],1)]),n._v(" "),a("div",{staticClass:"cell"},[a("span",[n._v("签约类型")]),n._v(" "),a("span",[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){n.postAuthorBookModifyFn("book_sign_edit","sign",t)}},model:{value:n.book.sign,callback:function(t){n.$set(n.book,"sign",t)},expression:"book.sign"}},n._l(n.signs,function(n){return a("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}))],1)])]),n._v(" "),a("li",[a("div",{staticClass:"cell"},[a("span",[n._v("签约等级")]),n._v(" "),a("span",[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){n.postAuthorBookModifyFn("book_grate_edit","grate",t)}},model:{value:n.book.grate,callback:function(t){n.$set(n.book,"grate",t)},expression:"book.grate"}},n._l(n.grates,function(n){return a("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}))],1)]),n._v(" "),a("div",{staticClass:"cell"},[a("span",[n._v("保底字数")]),n._v(" "),a("span",[n._v(n._s(n.book.min_words))])]),n._v(" "),a("div",{staticClass:"cell"},[a("span",[n._v("千字价格")]),n._v(" "),a("span",[a("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"请输入内容"},on:{change:function(t){n.postAuthorBookModifyFn("book_price_edit","price",t)}},model:{value:n.book.price,callback:function(t){n.$set(n.book,"price",t)},expression:"book.price"}})],1)]),n._v(" "),a("div",{staticClass:"cell"},[a("span",[n._v("总订阅")]),n._v(" "),a("span",[n._v(n._s(n.book.total_dingyue))])])]),n._v(" "),a("li",[a("div",{staticClass:"cell"},[a("span",[n._v("总收入")]),n._v(" "),a("span",[n._v(n._s(n.book.with_income&&n.book.with_income.length>0?n.book.with_income[0].amount:"0"))])]),n._v(" "),a("div",{staticClass:"cell"},[a("span",[n._v("总字数")]),n._v(" "),a("span",[n._v(n._s(n.book.with_word_count&&n.book.with_word_count.length>0?n.book.with_word_count[0].word_count:"0"))])]),n._v(" "),a("div",{staticClass:"cell"},[a("span",[n._v("本周更新字数")]),n._v(" "),a("span",[n._v(n._s(n.book.count_words_this_week&&n.book.count_words_this_week.length>0?n.book.count_words_this_week[0].word_count:"0"))])]),n._v(" "),a("div",{staticClass:"cell"},[a("span",[n._v("上月更新字数")]),n._v(" "),a("span",[n._v(n._s(n.book.count_words_last_month&&n.book.count_words_last_month.length>0?n.book.count_words_last_month[0].word_count:"0"))])])]),n._v(" "),a("li",[a("div",{staticClass:"cell"},[a("span",[n._v("昨日更新字数")]),n._v(" "),a("span",[n._v(n._s(n.book.count_words_yesterday&&n.book.count_words_yesterday.length>0?n.book.count_words_yesterday[0].word_count:"0"))])]),n._v(" "),a("div",{staticClass:"cell"}),n._v(" "),a("div",{staticClass:"cell"}),n._v(" "),a("div",{staticClass:"cell"})])])])]),n._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticStyle:{width:"100%","text-align":"center"},attrs:{data:n.list.data,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"time",label:"时间","min-width":"80",fixed:""}}),n._v(" "),a("el-table-column",{attrs:{prop:"income",label:"本月收入","min-width":"150","show-overflow-tooltip":"",align:"center"}}),n._v(" "),a("el-table-column",{attrs:{prop:"word_count",label:"本月更新字数","min-width":"120",align:"center"}}),n._v(" "),a("el-table-column",{attrs:{prop:"dingyue_num",label:"本月订阅人数","min-width":"120","show-overflow-tooltip":"",align:"center"}}),n._v(" "),a("el-table-column",{attrs:{prop:"break",label:"断更天数","min-width":"120","show-overflow-tooltip":"",align:"center"}})],1),n._v(" "),a("div",{staticClass:"pagination-container clearfix"},[a("div",{staticClass:"float-left"},[a("global-pagination",{attrs:{"current-page":n.params.page,"page-size":n.params.per_page,layout:"total, sizes, prev, pager, next, jumper",total:n.list.total},on:{"current-change":n.handleCurrentChange,"size-change":n.handleSizeChange}})],1)])],1)},staticRenderFns:[]};var h=a("VU/8")(p,d,!1,function(n){a("+V0r")},null,null);t.default=h.exports}});