webpackJsonp([18],{"/upu":function(t,e,a){var l=a("KUtw");"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);a("rjj0")("316f3183",l,!0)},KUtw:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.miniapp-order-title {\n  font-weight: bold;\n  font-size: 18px;\n}\n",""])},c1aV:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("Xxa5"),i=a.n(l),n=a("exGp"),s=a.n(n),r=a("d7EF"),o=a.n(r),u=a("Dd8w"),p=a.n(u),c=a("NYxO"),d={components:{},name:"",mixins:[a("msXN").a],computed:p()({},Object(c.b)({pornOrderList:"pornOrderList"}),{editPath:function(){return 1==this.$route.meta.status_type?"/pictureShop/boring_lu/order_management/edit/":2==this.$route.meta.status_type?"/pictureShop/xiaoyouquan/order_management/edit/":void 0},routerType:function(){return this.$route.meta.type}}),props:{},data:function(){return{time:"",loading:!1,params:{user_id:"",nickname:"",order_sn:"",pay_status:"0",consignee:"",mobile:"",goods_name:"",start_time:"",end_time:"",deliver_status:"0",page:1,client:"",type:""},miniappList:[],amount:{}}},watch:{},created:function(){this.getListDataFn(),1==this.$route.meta.status_type&&(this.miniappList=[{id:"",name:"全部"},{id:"1",name:"趣撸"}]),2==this.$route.meta.status_type&&(this.miniappList=[{id:"",name:"全部"},{id:"1",name:"小优圈"}])},methods:{exportFn:function(){var t=this._.cloneDeep(this.params);if(this.time){var e=o()(this.time,2);t.create_after=e[0],t.create_before=e[1]}else t.create_after="",t.create_before="";t.is_export=1,delete t.page,0==t.pay_status&&delete t.pay_status,0==t.deliver_status&&delete t.deliver_status,1==this.$route.meta.status_type&&(t.client=1),2==this.$route.meta.status_type&&(t.client=2),this.exportExcelFn(t,"/admin/mt_miniprogram/order","订单列表")},getListDataFn:function(){var t=s()(i.a.mark(function t(){var e,a,l,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(e=this).loading=!0,0==(a=this._.cloneDeep(this.params)).pay_status&&delete a.pay_status,0==a.deliver_status&&delete a.deliver_status,e.time?(l=o()(e.time,2),a.start_time=l[0],a.end_time=l[1]):(a.start_time="",a.end_time=""),a.create_after=a.start_time,a.create_before=a.end_time,delete a.start_time,delete a.end_time,1==this.$route.meta.status_type&&(a.client=1),2==this.$route.meta.status_type&&(a.client=2),t.next=14,this.triggerActionsFn("getMtMiniprogramOrder",a,!0);case 14:n=this.pornOrderList.amount,this.amount=n,e.loading=!1;case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),handleCurrentChange:function(t){this.params.page=t,this.getListDataFn()},handleSizeChange:function(t){this.params.per_page=t,this.getListDataFn()},fuzzyQueryFn:function(){this.params.page=1,this.getListDataFn()}},mounted:function(){}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"bar flex"},[a("div",{staticClass:"flex-left"},[a("ul",{staticClass:"searchConditionUl"},[a("li",[a("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[t._v("用户ID")]),t._v(" "),a("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"输入用户ID",size:"mini"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.fuzzyQueryFn(e)}},model:{value:t.params.user_id,callback:function(e){t.$set(t.params,"user_id",e)},expression:"params.user_id"}})],1),t._v(" "),a("li",[a("label",{staticClass:"radio-label"},[t._v("昵称")]),t._v(" "),a("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"输入昵称",size:"mini"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.fuzzyQueryFn(e)}},model:{value:t.params.nickname,callback:function(e){t.$set(t.params,"nickname",e)},expression:"params.nickname"}})],1),t._v(" "),a("li",[a("label",{staticClass:"radio-label"},[t._v("订单号")]),t._v(" "),a("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"输入订单号",size:"mini"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.fuzzyQueryFn(e)}},model:{value:t.params.order_sn,callback:function(e){t.$set(t.params,"order_sn",e)},expression:"params.order_sn"}})],1),t._v(" "),a("li",[a("label",{staticClass:"radio-label"},[t._v("商品名称")]),t._v(" "),a("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"输入商品名称",size:"mini"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.fuzzyQueryFn(e)}},model:{value:t.params.goods_name,callback:function(e){t.$set(t.params,"goods_name",e)},expression:"params.goods_name"}})],1),t._v(" "),a("li",[a("label",{staticClass:"radio-label"},[t._v("支付状态")]),t._v(" "),a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"支付状态"},on:{change:t.fuzzyQueryFn},model:{value:t.params.pay_status,callback:function(e){t.$set(t.params,"pay_status",e)},expression:"params.pay_status"}},[a("el-option",{attrs:{label:"全部",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"已支付",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"未支付",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"已关闭",value:"3"}})],1)],1),t._v(" "),a("li",[a("label",{staticClass:"radio-label"},[t._v("收货人")]),t._v(" "),a("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"输入收货人",size:"mini"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.fuzzyQueryFn(e)}},model:{value:t.params.consignee,callback:function(e){t.$set(t.params,"consignee",e)},expression:"params.consignee"}})],1),t._v(" "),a("li",[a("label",{staticClass:"radio-label"},[t._v("电话号码")]),t._v(" "),a("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"输入电话号码",size:"mini"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.fuzzyQueryFn(e)}},model:{value:t.params.mobile,callback:function(e){t.$set(t.params,"mobile",e)},expression:"params.mobile"}})],1),t._v(" "),a("li",[a("label",{staticClass:"radio-label"},[t._v("物流状态")]),t._v(" "),a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"物流状态"},on:{change:t.fuzzyQueryFn},model:{value:t.params.deliver_status,callback:function(e){t.$set(t.params,"deliver_status",e)},expression:"params.deliver_status"}},[a("el-option",{attrs:{label:"全部",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"已发货",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"未发货",value:"2"}})],1)],1),t._v(" "),a("li",[a("label",{staticClass:"radio-label"},[t._v("小程序名称")]),t._v(" "),a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择小程序名称"},on:{change:t.fuzzyQueryFn},model:{value:t.params.client,callback:function(e){t.$set(t.params,"client",e)},expression:"params.client"}},t._l(t.miniappList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("li",[a("label",{staticClass:"radio-label"},[t._v("订单创建时间")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"350px"},attrs:{type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"订单创建起始时间","end-placeholder":"订单创建截止时间","default-time":["00:00:00","23:59:59"],align:"right"},on:{change:t.fuzzyQueryFn},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),t._v(" "),a("li",[a("label",{staticClass:"radio-label"},[t._v("购买类型")]),t._v(" "),a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择购买类型"},on:{change:t.fuzzyQueryFn},model:{value:t.params.type,callback:function(e){t.$set(t.params,"type",e)},expression:"params.type"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"VIP",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"商品",value:"3"}})],1)],1),t._v(" "),a("li",[a("el-button",{staticClass:"search",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:t.fuzzyQueryFn}},[t._v("搜索")]),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-download",size:"mini"},on:{click:t.exportFn}},[t._v("导出")])],1)])])]),t._v(" "),a("div",{staticClass:"bar flex"},[a("div",{staticClass:"miniapp-order-title"},[t._v("\n      总金额：\n      "),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.amount.total_amount))]),t._v(" "),a("span",[t._v("（VIP充值总额："+t._s(t.amount.total_vip_amount)+" ，商品购买总额："+t._s(t.amount.total_goods_amount)+"）")])])]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.pornOrderList.data,border:"",stripe:"","empty-text":""}},[a("el-table-column",{attrs:{fixed:"",prop:"user_id",label:"用户ID",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"昵称",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"order_sn",label:"订单号",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"购买类型",width:"90",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(2==e.row.type?"VIP":"商品")+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"consignee",label:"收货人",width:"80","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"电话号码","min-width":"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"收货地址","min-width":"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[2==e.row.type?a("div",[t._v("\n          "+t._s(e.row.album&&e.row.album.title?e.row.album.title:"-")+"\n        ")]):a("div",[t._v("\n          "+t._s(e.row.goods_name?e.row.goods_name:"-")+"\n        ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"number",label:"数量","min-width":"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"金额","min-width":"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pay_status",label:"支付状态","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[3==e.row.pay_status?a("el-tag",{attrs:{type:"info"}},[t._v("已关闭")]):t._e(),t._v(" "),2==e.row.pay_status?a("el-tag",{attrs:{type:"danger"}},[t._v("未支付")]):t._e(),t._v(" "),1==e.row.pay_status?a("el-tag",[t._v("已支付")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"deliver_status",label:"物流状态","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[2==e.row.deliver_status?a("el-tag",{attrs:{type:"danger"}},[t._v("未发货")]):t._e(),t._v(" "),1==e.row.deliver_status?a("el-tag",[t._v("已发货")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"订单创建时间","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[2!=e.row.type?a("div",[a("router-link",{attrs:{to:t.editPath+e.row.id+"/miniapp"}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("编辑")])],1)],1):a("span",[t._v("-")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-container"},[a("global-pagination",{attrs:{"current-page":t.params.page,"page-size":t.params.per_page,layout:"total, sizes, prev, pager, next, jumper",total:t.pornOrderList.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)],1)},staticRenderFns:[]};var m=a("VU/8")(d,_,!1,function(t){a("/upu")},null,null);e.default=m.exports}});