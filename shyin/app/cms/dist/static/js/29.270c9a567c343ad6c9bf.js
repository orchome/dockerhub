webpackJsonp([29],{fWJV:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("Xxa5"),s=t.n(r),o=t("fZjL"),a=t.n(o),i=t("exGp"),u=t.n(i),l=t("Dd8w"),p=t.n(l),c=t("NYxO"),m={computed:p()({},Object(c.b)({}),{pageType:function(){return this.$route.meta.type},is_cps:function(){return this.$route.meta.is_cps},routerType:function(){return this.$route.meta.type},status_type:function(){return this.$route.meta.status_type}}),watch:{},data:function(){return{goods:{goods_name:"",number:"",amount:"",consignee:"",mobile:"",address:""},ruleForm:{id:"",deliver_status:"2",express_sn:"",express_company:""}}},created:function(){1==this.is_cps&&(this.ruleForm.is_cps=1),this.getPornOrderInfo(this.$route.params.id)},methods:{changeDeliverStatusFn:function(n){2==n&&(this.ruleForm.express_sn="")},submitForm:function(){1!=this.ruleForm.deliver_status||""!=this.ruleForm.express_sn?this.putPornOrderUpdateFn():this.warningMsgFn("请输入快递单号！")},resetForm:function(n){this.$refs[n].resetFields(),"miniapp"!=this.routerType?1==this.status_type?this.closeSelectedTag("/pictureShop/gorgeous_pic_app/order_list"):this.closeSelectedTag("/pictureShop/CPS/order_list"):this.closeSelectedTag("/pictureShop/order/miniapp")},getPornOrderInfo:function(){var n=u()(s.a.mark(function n(e){var t,r,o=this;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t={id:e},1==this.is_cps&&(t.is_cps=1),r="","miniapp"==this.routerType){n.next=9;break}return n.next=6,this.triggerActionsFn("getPornOrderInfo",t);case 6:r=n.sent,n.next=12;break;case 9:return n.next=11,this.triggerActionsFn("getMtMiniprogramOrderInfo",t);case 11:r=n.sent;case 12:r&&(a()(this.goods).forEach(function(n){o.goods[n]=r.data[n]}),this.ruleForm.id=r.data.id,this.ruleForm.deliver_status=r.data.deliver_status,this.ruleForm.express_sn=r.data.express_sn,this.ruleForm.express_company=r.data.express_company||"",r.data.goods_name?this.goods.goods_name=r.data.goods_name:r.data.goods&&r.data.goods.name?this.goods.goods_name=r.data.goods.name:this.goods.goods_name="-");case 13:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}(),putPornOrderUpdateFn:function(){var n=u()(s.a.mark(function n(){var e,t;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this._.cloneDeep(this.ruleForm),t="miniapp"===this.routerType?"putMtMiniprogramOrder":"putPornOrderUpdate",n.next=4,this.triggerActionsFn(t,e);case 4:n.sent&&(this.successMsgFn("编辑成功"),""!==e.express_sn&&""!==e.express_company&&1==e.deliver_status&&"miniapp"===this.routerType?this.postMtMiniprogramOrderSend({id:e.id,express_company:e.express_company,express_sn:e.express_sn}):this.resetForm("ruleForm"));case 6:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),postMtMiniprogramOrderSend:function(){var n=u()(s.a.mark(function n(e){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.triggerActionsFn("postMtMiniprogramOrderSend",e);case 2:n.sent&&(this.successMsgFn("发货成功"),this.resetForm("ruleForm"));case 4:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()}},d={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"app-container"},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:n.ruleForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"商品名称"}},[n._v("\n          "+n._s(n.goods.goods_name)+"\n        ")]),n._v(" "),t("el-form-item",{attrs:{label:"数量"}},[n._v("\n          "+n._s(n.goods.number)+"\n        ")]),n._v(" "),t("el-form-item",{attrs:{label:"金额"}},[n._v("\n          "+n._s(n.goods.amount)+"\n        ")]),n._v(" "),t("el-form-item",{attrs:{label:"收货人"}},[n._v("\n          "+n._s(n.goods.consignee)+"\n        ")]),n._v(" "),t("el-form-item",{attrs:{label:"电话号码"}},[n._v("\n          "+n._s(n.goods.mobile)+"\n        ")]),n._v(" "),t("el-form-item",{attrs:{label:"收货地址"}},[n._v("\n          "+n._s(n.goods.address)+"\n        ")]),n._v(" "),t("el-form-item",{attrs:{label:"物流状态"}},[t("el-radio-group",{on:{change:n.changeDeliverStatusFn},model:{value:n.ruleForm.deliver_status,callback:function(e){n.$set(n.ruleForm,"deliver_status",e)},expression:"ruleForm.deliver_status"}},[t("el-radio",{attrs:{label:1}},[n._v("已发货")]),n._v(" "),t("el-radio",{attrs:{label:2}},[n._v("未发货")])],1)],1),n._v(" "),"miniapp"==n.routerType?t("el-form-item",{attrs:{label:"快递公司"}},[t("el-input",{attrs:{placeholder:"快递公司"},model:{value:n.ruleForm.express_company,callback:function(e){n.$set(n.ruleForm,"express_company",e)},expression:"ruleForm.express_company"}})],1):n._e(),n._v(" "),t("el-form-item",{attrs:{label:"快递单号"}},[t("el-input",{attrs:{placeholder:"快递单号"},model:{value:n.ruleForm.express_sn,callback:function(e){n.$set(n.ruleForm,"express_sn",e)},expression:"ruleForm.express_sn"}})],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(e){n.submitForm()}}},[n._v("保存")]),n._v(" "),t("el-button",{on:{click:function(e){n.resetForm("ruleForm")}}},[n._v("取消")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var _=t("VU/8")(m,d,!1,function(n){t("xURk")},null,null);e.default=_.exports},jmBj:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},xURk:function(n,e,t){var r=t("jmBj");"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);t("rjj0")("74216962",r,!0)}});