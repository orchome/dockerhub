webpackJsonp([154],{B49D:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},"W7+t":function(n,e,t){var a=t("B49D");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("rjj0")("29fc03f4",a,!0)},pXiQ:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("Xxa5"),i=t.n(a),r=t("exGp"),o=t.n(r),l=t("Dd8w"),s=t.n(l),c=t("NYxO"),u=t("E4LH"),p=t("0xDb"),v={name:"userManaUserList",computed:s()({},Object(c.b)({userList:"userList",userOriginList:"userOriginList"})),filters:{getType:function(n){var e="";switch(n){case"0":e="分销用户(老)";break;case"1":e="手机";break;case"2":e="账号";break;case"3":e="邮箱";break;case"4":e="管理员添加";break;case"11":e="微信";break;case"12":e="QQ";break;case"13":e="微博";break;case"20":e="虚拟用户";break;default:e="其他"}return e},getOrigin:function(n){var e="";switch(n){case"0":e="十音平台";break;case"45":e="微阅互娱";break;case"46":e="碧霞书苑";break;case"47":e="精选经典美文";break;case"202":e="子夜看书";break;case"203":e="老友阅读";break;case"204":e="姑苏书阁";break;case"205":e="鲁班书城";break;case"206":e="叮咚书屋";break;case"207":e="奇幻小说大全";break;case"208":e="经典小说引荐";break;case"209":e="睡前小说严选";break;case"210":e="春柳阅读";break;case"211":e="桃花书房";break;case"212":e="每晚十点看书";break;case"213":e="精彩美文大全";break;case"214":e="艳芳书城";break;case"215":e="深夜小说推荐";break;case"216":e="万川书城";break;case"217":e="仙子书城";break;case"218":e="热书排行榜";break;default:e="其他"}return e},vipLever:function(n){var e="",t=Math.ceil(n.sum);return 0==t&&(e="VIP0"),1==t&&(e="VIP1"),1<t&&t<=1e3&&(e="VIP2"),1e3<t&&t<=1e4&&(e="VIP3"),1e4<t&&t<=1e5&&(e="VIP4"),1e5<t&&t<=3e5&&(e="VIP5"),3e5<t&&t<=6e5&&(e="VIP6"),6e5<t&&t<=1e6&&(e="VIP7"),e}},watch:{},data:function(){return{loading:!1,dialogShow:!1,params:{id:"",nickname:"",mobile:"",is_author:"",register_type:"",channel_id:"",page:1},form:{id:"",book_coin:"",give_reason_coin:"",vouchers_num:"",give_reason_vouchers:""}}},mounted:function(){this.getUserList(this.params),this.$store.dispatch("getChannelData")},created:function(){},methods:{getUserList:function(n){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("getUserList",n);case 3:e.loading=!1;case 4:case"end":return t.stop()}},t,e)}))()},handleCurrentChange:function(n){this.params.page=n,this.getUserList(this.params)},getSearch:function(){var n=this.params.mobile;this.params.page=1,!n||Object(u.f)(n)?this.getUserList(this.params):Object(p.c)("请输入正确的手机号码")},handleCommand:function(n,e){var t=n.id,a=this;"c1"==e?this.$router.push({path:"/userMana/userList/buyHistory/"+t}):"c2"==e?this.$router.push({path:"/userMana/topUpHistory/"+t}):"c3"==e?(this.dialogShow=!0,this.form.id=t):"c4"==e?this.$router.push({path:"/userMana/userList/edit/"+t}):"c5"==e&&Object(p.d)("确定要删除吗?").then(function(){a.$store.dispatch("deleteUser",{id:t}).then(function(){a.$message("删除成功！"),a.getUserList(a.params)})})},giveCoin:function(){var n=this,e=this.form.id,t={},a={};t.amount=this.form.book_coin,t.log=this.form.give_reason_coin,a.amount=this.form.vouchers_num,a.log=this.form.give_reason_vouchers;var i={id:e,coin:t,giving_coin:a};this.$store.dispatch("giveCoin",i).then(function(e){200==e.code&&(n.form.book_coin="",n.form.give_reason_coin="",n.form.vouchers_num="",n.form.give_reason_vouchers="",n.$message({message:"书币/券修改成功~",type:"success"}),n.dialogShow=!1,setTimeout(function(){n.getUserList(n.params)},1e3))})}}},d={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"bar flex"},[t("div",{staticClass:"flex-left"},[t("label",{staticClass:"radio-label"},[n._v("用户ID：")]),n._v(" "),t("el-input",{staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"请输入用户ID"},nativeOn:{keyup:function(e){if(!("button"in e)&&n._k(e.keyCode,"enter",13,e.key))return null;n.getSearch(e)}},model:{value:n.params.id,callback:function(e){n.$set(n.params,"id",e)},expression:"params.id"}}),n._v(" "),t("label",{staticClass:"radio-label"},[n._v("用户昵称：")]),n._v(" "),t("el-input",{staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"请输入用户昵称"},nativeOn:{keyup:function(e){if(!("button"in e)&&n._k(e.keyCode,"enter",13,e.key))return null;n.getSearch(e)}},model:{value:n.params.nickname,callback:function(e){n.$set(n.params,"nickname",e)},expression:"params.nickname"}}),n._v(" "),t("label",{staticClass:"radio-label"},[n._v("手机号：")]),n._v(" "),t("el-input",{staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"请输入手机号码"},nativeOn:{keyup:function(e){if(!("button"in e)&&n._k(e.keyCode,"enter",13,e.key))return null;n.getSearch(e)}},model:{value:n.params.mobile,callback:function(e){n.$set(n.params,"mobile",e)},expression:"params.mobile"}}),n._v(" "),t("label",{staticClass:"radio-label"},[n._v("用户身份")]),n._v(" "),t("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择用户身份"},model:{value:n.params.is_author,callback:function(e){n.$set(n.params,"is_author",e)},expression:"params.is_author"}},[t("el-option",{attrs:{value:"",label:"全部"}},[n._v("全部")]),n._v(" "),t("el-option",{attrs:{value:"0",label:"读者"}},[n._v("读者")]),n._v(" "),t("el-option",{attrs:{value:"1",label:"作者"}},[n._v("作者")])],1),n._v(" "),t("label",{staticClass:"radio-label"},[n._v("用户来源")]),n._v(" "),t("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择用户来源"},model:{value:n.params.channel_id,callback:function(e){n.$set(n.params,"channel_id",e)},expression:"params.channel_id"}},n._l(n.userOriginList,function(e,a){return t("el-option-group",{key:a,attrs:{label:e.label}},n._l(e.options,function(n){return t("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}))})),n._v(" "),t("label",{staticClass:"radio-label"},[n._v("注册类型")]),n._v(" "),t("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择注册类型"},model:{value:n.params.register_type,callback:function(e){n.$set(n.params,"register_type",e)},expression:"params.register_type"}},[t("el-option",{attrs:{value:"",label:"请选择"}},[n._v("请选择")]),n._v(" "),t("el-option",{attrs:{value:"11",label:"微信"}},[n._v("微信")]),n._v(" "),t("el-option",{attrs:{value:"12",label:"QQ"}},[n._v("QQ")]),n._v(" "),t("el-option",{attrs:{value:"13",label:"微博"}},[n._v("微博")]),n._v(" "),t("el-option",{attrs:{value:"1",label:"手机号"}},[n._v("手机号")]),n._v(" "),t("el-option",{attrs:{value:"3",label:"邮箱"}},[n._v("邮箱")]),n._v(" "),t("el-option",{attrs:{value:"2",label:"账号"}},[n._v("账号")]),n._v(" "),t("el-option",{attrs:{value:"4",label:"管理员添加"}},[n._v("管理员添加")])],1)],1),n._v(" "),t("div",{staticClass:"flex-right"},[t("el-button",{staticClass:"search",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:n.getSearch}},[n._v("搜索")]),n._v(" "),t("router-link",{attrs:{to:"/userMana/userList/add"}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"}},[n._v("新增")])],1)],1)]),n._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticStyle:{width:"100%","text-align":"center"},attrs:{data:n.userList.data,border:"",stripe:""}},[t("el-table-column",{attrs:{prop:"id",label:"ID","min-width":"80",fixed:"",align:"center"}}),n._v(" "),t("el-table-column",{attrs:{prop:"avatar",label:"头像","min-width":"150","show-overflow-tooltip":"",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[e.row.avatar?t("div",[t("img",{staticStyle:{width:"50px",height:"50px",margin:"0 auto","border-radius":"50%"},attrs:{src:e.row.avatar}})]):t("div",[n._v("-")])]}}])}),n._v(" "),t("el-table-column",{attrs:{prop:"nickname",label:"昵称","min-width":"150","show-overflow-tooltip":"",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[e.row.nickname?t("div",[t("div",[n._v(n._s(e.row.nickname))])]):t("div",[n._v("-")])]}}])}),n._v(" "),t("el-table-column",{attrs:{prop:"mobile",label:"手机号","min-width":"150","show-overflow-tooltip":"",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[e.row.mobile?t("div",[t("div",[n._v(n._s(e.row.mobile))])]):t("div",[n._v("-")])]}}])}),n._v(" "),t("el-table-column",{attrs:{prop:"email",label:"邮箱","min-width":"120",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[e.row.email?t("div",[t("div",[n._v(n._s(e.row.email))])]):t("div",[n._v("-")])]}}])}),n._v(" "),t("el-table-column",{attrs:{prop:"register_type",label:"注册类型","min-width":"120",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("div",[n._v(n._s(n._f("getType")(e.row.register_type)))])]}}])}),n._v(" "),t("el-table-column",{attrs:{prop:"is_author",label:"用户身份","min-width":"120",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[0==e.row.is_author?t("div",[n._v("读者")]):t("div",[n._v("作者")])]}}])}),n._v(" "),t("el-table-column",{attrs:{prop:"channel_id",label:"用户来源","min-width":"120",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("div",[n._v(n._s(n._f("getOrigin")(e.row.channel_id)))])]}}])}),n._v(" "),t("el-table-column",{attrs:{prop:"is_vip",label:"会员级别","min-width":"120",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("div",[n._v(n._s(n._f("vipLever")(e.row)))])]}}])}),n._v(" "),t("el-table-column",{attrs:{prop:"coin",label:"书币","min-width":"120",align:"center"}}),n._v(" "),t("el-table-column",{attrs:{prop:"giving_coin",label:"书券","min-width":"120",align:"center"}}),n._v(" "),t("el-table-column",{attrs:{prop:"sum",label:"累计充值金额","min-width":"120",align:"center"}}),n._v(" "),t("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"120",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[1==e.row.status?t("div",[n._v("正常")]):t("div",[n._v("禁用")])]}}])}),n._v(" "),t("el-table-column",{attrs:{prop:"created_at",label:"注册时间","min-width":"120","show-overflow-tooltip":"",align:"center"}}),n._v(" "),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"130",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("el-dropdown",{attrs:{"split-button":"",type:"primary"},on:{command:function(t){n.handleCommand(e.row,t)},click:function(t){n.handleCommand(e.row,"c1")}}},[n._v("\n            消费记录\n            "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"c2"}},[n._v("充值记录")]),n._v(" "),t("el-dropdown-item",{attrs:{command:"c3"}},[n._v("书币/卷")]),n._v(" "),t("el-dropdown-item",{attrs:{command:"c4"}},[n._v("编辑")]),n._v(" "),t("el-dropdown-item",{staticStyle:{color:"#F56C6C"},attrs:{command:"c5"}},[n._v("删除")])],1)],1)]}}])})],1),n._v(" "),t("div",{staticClass:"pagination-container clearfix"},[t("div",{staticClass:"float-left"},[t("global-pagination",{attrs:{"current-page":n.params.page,"page-size":n.params.per_page,layout:"total, sizes, prev, pager, next, jumper",total:n.userList.total},on:{"current-change":n.handleCurrentChange,"size-change":n.handleSizeChange}})],1)]),n._v(" "),t("el-dialog",{attrs:{title:"书币/券发放",visible:n.dialogShow,center:"",top:"12%"},on:{"update:visible":function(e){n.dialogShow=e}}},[t("el-form",{staticStyle:{width:"80%"}},[t("el-form-item",{attrs:{label:"书币数量：","label-width":"120px"}},[t("el-input",{attrs:{autocomplete:"off",placeholder:"请输入书币数量"},model:{value:n.form.book_coin,callback:function(e){n.$set(n.form,"book_coin",e)},expression:"form.book_coin"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"发放原因：","label-width":"120px"}},[t("el-input",{attrs:{autocomplete:"off",placeholder:"请输入发放原因"},model:{value:n.form.give_reason_coin,callback:function(e){n.$set(n.form,"give_reason_coin",e)},expression:"form.give_reason_coin"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"书券数量：","label-width":"120px"}},[t("el-input",{attrs:{autocomplete:"off",placeholder:"请输入书券数量"},model:{value:n.form.vouchers_num,callback:function(e){n.$set(n.form,"vouchers_num",e)},expression:"form.vouchers_num"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"发放原因：","label-width":"120px"}},[t("el-input",{attrs:{autocomplete:"off",placeholder:"请输入发放原因"},model:{value:n.form.give_reason_vouchers,callback:function(e){n.$set(n.form,"give_reason_vouchers",e)},expression:"form.give_reason_vouchers"}})],1)],1),n._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){n.dialogShow=!1}}},[n._v("取 消")]),n._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:n.giveCoin}},[n._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var m=t("VU/8")(v,d,!1,function(n){t("W7+t")},null,null);e.default=m.exports}});