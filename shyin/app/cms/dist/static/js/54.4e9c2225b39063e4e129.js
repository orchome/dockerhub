webpackJsonp([54],{"4a8C":function(e,t,a){var l=a("IYa3");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("1229f7b4",l,!0)},IYa3:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.total-box span[data-v-0a1ffae3] {\r\n\tcolor: red;\r\n\tfont-size: 18px;\n}\r\n",""])},lkfo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Xxa5"),s=a.n(l),i=a("exGp"),r=a.n(i),n=a("Dd8w"),o=a.n(n),p=a("NYxO"),c=a("msXN"),u=a("0xDb"),d={name:"userManaTopUpHistory",mixins:[c.a],computed:o()({},Object(p.b)({topUpList:"topUpList"})),filters:{getType:function(e){var t="";switch(e){case"JSAPI":t="微信网页(JSAPI)";break;case"wx_app":t="app微信支付";break;case"wx":t="微信网页(wx)";break;case"ali":t="支付宝支付";break;case"apple":t="苹果支付";break;default:t="未知"}return t}},watch:{},data:function(){return{loading:!1,canClick:!0,params:{order_sn:"",status:"1",is_promote:"",trade_type:"",user_id:"",nickname:"",time:[],page:1}}},created:function(){this.getTableData(this.params.type)},methods:{getTableData:function(){var e=this;return r()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:null==e.params.time||0==e.params.time.length?(e.params.start_time="",e.params.end_time=""):(e.params.start_time=e.params.time[0]+" 00:00:00",e.params.end_time=e.params.time[1]+" 23:59:59"),e.$route.params.id&&(e.params.user_id=e.$route.params.id),delete(a=e._.cloneDeep(e.params)).time,e.loading=!0,e.$store.dispatch("getRechargeList",a).then(function(){e.loading=!1});case 6:case"end":return t.stop()}},t,e)}))()},handleCurrentChange:function(e){this.params.page=e,this.getTableData(this.params.type)},getSearch:function(){this.params.page=1,this.getTableData(this.params.type)},exprotFn:function(){var e=this,t=this._.cloneDeep(this.params);null!=t.time&&0!=t.time.length?(t.start_time=t.time[0]+" 00:00:00",t.end_time=t.time[1]+" 23:59:59",delete t.time,t.export_type=2,0!=this.canClick&&(this.canClick=!1,this.exportExcelFn(t,"/admin/recharge/export","充值导出").then(function(t){console.log(t),e.canClick=!0}))):Object(u.i)("请先选时间~","warning")}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"bar flex"},[a("div",{staticClass:"float-left"},[a("div",{staticClass:"total-box"},[e._v("\n\t\t\t\t总共充值(元)：\n\t\t\t\t"),a("span",[e._v(e._s(e.topUpList.topUpTotal))])])])]),e._v(" "),a("div",{staticClass:"bar flex"},[a("div",{staticClass:"flex-left"},[a("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[e._v("用户ID:")]),e._v(" "),a("el-input",{staticStyle:{width:"178px"},attrs:{placeholder:"请输入用户ID",size:"mini"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.getSearch(t)}},model:{value:e.params.user_id,callback:function(t){e.$set(e.params,"user_id",t)},expression:"params.user_id"}}),e._v(" "),a("label",{staticClass:"radio-label"},[e._v("用户名称:")]),e._v(" "),a("el-input",{staticStyle:{width:"178px"},attrs:{placeholder:"请输入用户名称",size:"mini"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.getSearch(t)}},model:{value:e.params.nickname,callback:function(t){e.$set(e.params,"nickname",t)},expression:"params.nickname"}}),e._v(" "),a("label",{staticClass:"radio-label"},[e._v("订单号:")]),e._v(" "),a("el-input",{staticStyle:{width:"178px"},attrs:{placeholder:"请输入订单号",size:"mini"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.getSearch(t)}},model:{value:e.params.order_sn,callback:function(t){e.$set(e.params,"order_sn",t)},expression:"params.order_sn"}}),e._v(" "),a("label",{staticClass:"radio-label"},[e._v("时间:")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"340px"},attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.params.time,callback:function(t){e.$set(e.params,"time",t)},expression:"params.time"}}),e._v(" "),a("label",{staticClass:"radio-label"},[e._v("充值渠道:")]),e._v(" "),a("el-select",{model:{value:e.params.is_promote,callback:function(t){e.$set(e.params,"is_promote",t)},expression:"params.is_promote"}},[a("el-option",{attrs:{value:"",label:"请选择"}},[e._v("请选择")]),e._v(" "),a("el-option",{attrs:{value:"1",label:"十音平台"}},[e._v("十音平台")]),e._v(" "),a("el-option",{attrs:{value:"2",label:"分销平台"}},[e._v("分销平台")])],1)],1)]),e._v(" "),a("div",{staticClass:"bar flex"},[a("div",{staticClass:"flex-left"},[a("label",{staticClass:"radio-label"},[e._v("支付类型:")]),e._v(" "),a("el-select",{model:{value:e.params.trade_type,callback:function(t){e.$set(e.params,"trade_type",t)},expression:"params.trade_type"}},[a("el-option",{attrs:{value:"",label:"请选择"}},[e._v("请选择")]),e._v(" "),a("el-option",{attrs:{value:"JSAPI",label:"微信网页(jsapi)"}},[e._v("微信网页(jsapi)")]),e._v(" "),a("el-option",{attrs:{value:"wx",label:"微信网页(wx)"}},[e._v("微信网页(wx)")]),e._v(" "),a("el-option",{attrs:{value:"wx_app",label:"app微信支付"}},[e._v("app微信支付")]),e._v(" "),a("el-option",{attrs:{value:"ali",label:"APP支付宝"}},[e._v("支付宝支付")]),e._v(" "),a("el-option",{attrs:{value:"apple",label:"苹果支付"}},[e._v("苹果支付")])],1),e._v(" "),a("label",{staticClass:"radio-label"},[e._v("支付状态:")]),e._v(" "),a("el-select",{model:{value:e.params.status,callback:function(t){e.$set(e.params,"status",t)},expression:"params.status"}},[a("el-option",{attrs:{value:"0",label:"未支付"}},[e._v("未支付")]),e._v(" "),a("el-option",{attrs:{value:"1",label:"已支付"}},[e._v("已支付")])],1),e._v(" "),a("el-button",{staticClass:"search",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.getSearch}},[e._v("搜索")]),e._v(" "),a("el-button",{staticClass:"search",attrs:{disabled:!e.canClick,type:"primary",size:"mini"},on:{click:e.exprotFn}},[e._v("导出")])],1),e._v(" "),a("div",{staticClass:"flex-right"})]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","text-align":"center"},attrs:{data:e.topUpList.data,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"序号","min-width":"80",type:"index",fixed:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_id",label:"用户ID","min-width":"80",fixed:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user.nickname",label:"用户昵称","min-width":"150","show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.user?t.row.user.nickname:"-"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"order_sn",label:"订单号","min-width":"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"充值金额","min-width":"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"trade_type",label:"支付类型","min-width":"150","show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e._f("getType")(t.row.trade_type)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"支付状态","min-width":"120","show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(0==t.row.status?"未支付":"已支付"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"channel_id",label:"充值渠道","min-width":"120","show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(0==t.row.channel_id?"十音平台":"分销平台"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间","min-width":"120","show-overflow-tooltip":"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_at",label:"支付时间","min-width":"120","show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.pay_at?t.row.pay_at:"-"))])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-container clearfix"},[a("div",{staticClass:"float-left"},[a("global-pagination",{attrs:{"current-page":e.params.page,"page-size":e.params.per_page,layout:"total, sizes, prev, pager, next, jumper",total:e.topUpList.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)])],1)},staticRenderFns:[]};var _=a("VU/8")(d,v,!1,function(e){a("4a8C")},"data-v-0a1ffae3",null);t.default=_.exports}});