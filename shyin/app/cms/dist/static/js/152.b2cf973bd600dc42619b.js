webpackJsonp([152],{eOij:function(e,t,a){var l=a("zT3I");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("4f9bbc50",l,!0)},ibAH:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Xxa5"),r=a.n(l),i=a("exGp"),c=a.n(i),o=a("Dd8w"),s=a.n(o),n=a("NYxO"),m=a("0xDb"),p=a("E4LH"),u={computed:s()({},Object(n.b)({cmCpDetail:"cmCpDetail"})),data:function(){return{params:{},rules:{name:[{required:!0,message:"请输入内容商名称",trigger:"blur"}],username:[{required:!0,message:"请输入内容商账号",trigger:"blur"}],ratio:[{trigger:"blur",validator:function(e,t,a){""==t?a(new Error("请输入分成比例")):Object(p.b)(t)?a():a(new Error("分成比例格式不对"))}}],contacts:[{required:!0,message:"请输入联系人",trigger:"blur"}],mobile:[{trigger:"blur",validator:function(e,t,a){""==t?a(new Error("请输入手机号")):Object(p.f)(t)?a():a(new Error("手机号格式不对"))}}],bank:[{required:!0,message:"请输入开户银行",trigger:"blur"}],bank_name:[{required:!0,message:"请输入银行账户",trigger:"blur"}],bank_card:[{required:!0,message:"请输入银行卡号",trigger:"blur"}],company:[{required:!0,message:"请输入公司名",trigger:"blur"}],expire_time:[{required:!0,message:"请选择过期时间",trigger:"blur"}]}}},mounted:function(){this.loadDefault()},methods:{loadDefault:function(){var e=this;return c()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$route.params.id,t.next=3,e.$store.dispatch("cmGetCpsDetail",{id:a});case 3:case"end":return t.stop()}},t,e)}))()},submitForm:function(e){var t=this,a=this._.cloneDeep(this.cmCpDetail);delete a.user_id,delete a.created_at,delete a.updated_at,a.password||delete a.password,this.$refs[e].validate(function(e){e&&t.$store.dispatch("cmEditCps",a).then(function(e){200==e.code?(Object(m.i)("修改成功","success"),setTimeout(function(){t.$router.go(-1)},1e3)):t.loadDefault()})})},goBack:function(){this.$router.go(-1)}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app-container"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-width":"100px",rules:e.rules,model:e.cmCpDetail}},[a("el-form-item",{attrs:{label:"内容商名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入内容商名称"},model:{value:e.cmCpDetail.name,callback:function(t){e.$set(e.cmCpDetail,"name",t)},expression:"cmCpDetail.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"内容商账号",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入内容商账号"},model:{value:e.cmCpDetail.username,callback:function(t){e.$set(e.cmCpDetail,"username",t)},expression:"cmCpDetail.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{placeholder:"密码无需修改"},model:{value:e.cmCpDetail.password,callback:function(t){e.$set(e.cmCpDetail,"password",t)},expression:"cmCpDetail.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码"}},[a("el-input",{attrs:{placeholder:"密码无需修改"},model:{value:e.cmCpDetail.password,callback:function(t){e.$set(e.cmCpDetail,"password",t)},expression:"cmCpDetail.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分成比例",prop:"ratio"}},[a("el-input",{attrs:{placeholder:"请输入分成比例"},model:{value:e.cmCpDetail.ratio,callback:function(t){e.$set(e.cmCpDetail,"ratio",t)},expression:"cmCpDetail.ratio"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人",prop:"contacts"}},[a("el-input",{attrs:{placeholder:"请输入联系人"},model:{value:e.cmCpDetail.contacts,callback:function(t){e.$set(e.cmCpDetail,"contacts",t)},expression:"cmCpDetail.contacts"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系方式",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入联系方式"},model:{value:e.cmCpDetail.mobile,callback:function(t){e.$set(e.cmCpDetail,"mobile",t)},expression:"cmCpDetail.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入联系邮箱"},model:{value:e.cmCpDetail.email,callback:function(t){e.$set(e.cmCpDetail,"email",t)},expression:"cmCpDetail.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开户银行",prop:"bank"}},[a("el-input",{attrs:{placeholder:"请输入开户银行"},model:{value:e.cmCpDetail.bank,callback:function(t){e.$set(e.cmCpDetail,"bank",t)},expression:"cmCpDetail.bank"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"银行账户名",prop:"bank_name"}},[a("el-input",{attrs:{placeholder:"请输入银行账户"},model:{value:e.cmCpDetail.bank_name,callback:function(t){e.$set(e.cmCpDetail,"bank_name",t)},expression:"cmCpDetail.bank_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"银行账号",prop:"bank_card"}},[a("el-input",{attrs:{placeholder:"请输入银行账号"},model:{value:e.cmCpDetail.bank_card,callback:function(t){e.$set(e.cmCpDetail,"bank_card",t)},expression:"cmCpDetail.bank_card"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司名称",prop:"company"}},[a("el-input",{attrs:{placeholder:"请输入公司名称"},model:{value:e.cmCpDetail.company,callback:function(t){e.$set(e.cmCpDetail,"company",t)},expression:"cmCpDetail.company"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入公司地址"},model:{value:e.cmCpDetail.address,callback:function(t){e.$set(e.cmCpDetail,"address",t)},expression:"cmCpDetail.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"授权时限制",prop:"expire_time"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.cmCpDetail.expire_time,callback:function(t){e.$set(e.cmCpDetail,"expire_time",t)},expression:"cmCpDetail.expire_time"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:e.goBack}},[e._v("返回")])],1)],1)],1)},staticRenderFns:[]};var b=a("VU/8")(u,d,!1,function(e){a("eOij")},"data-v-30fce8cf",null);t.default=b.exports},zT3I:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.demo-ruleForm[data-v-30fce8cf]{\n    width: 40%;\n    margin: 40px 0 0 40px;\n}\n",""])}});