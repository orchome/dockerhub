webpackJsonp([113],{"1mzS":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("Dd8w"),i=o.n(n),r=o("NYxO"),s={computed:i()({},Object(r.b)({operationcommentKeywords:"operationcommentKeywords"})),data:function(){return{checkAll:!1,activeKeywords:[],keywords:[],isIndeterminate:!1,loading:!1,key_word:"",active_key_word:[]}},mounted:function(){this.getCommentKeywordsList()},methods:{handleCheckAllChange:function(e){var t=[];e&&this.keywords.forEach(function(e){t.push(e.id)}),this.activeKeywords=t,this.isIndeterminate=!1},handleCheckedChange:function(){var e=this.activeKeywords.length;this.checkAll=e===this.keywords.length,this.isIndeterminate=e>0&&e<this.keywords.length},goBackFn:function(){this.$router.push("/operationManage/comment")},submitForm:function(){var e=this;if(0!=this.activeKeywords.length){this.$confirm("确认删除选中的关键词？").then(function(t){e.delCommentKeywords()}).catch(function(e){})}else this.$message({type:"warning",message:"请选择您要删除的关键词"})},getCommentKeywordsList:function(){var e=this;this.loading=!0,this.$store.dispatch("getCommentKeywordsList").then(function(t){e.loading=!1,200==t.code&&(e.keywords=t.data,e.activeKeywords=e.operationcommentKeywords.map(function(e){return e.id}),e.handleCheckedChange())})},delCommentKeywords:function(){var e=this,t={id:this.activeKeywords.join(",")};this.$store.dispatch("delCommentKeywords",t).then(function(t){200==t.code&&(e.activeKeywords=[],e.chooseKeywords())})},addKeywordsFn:function(){var e=this.active_key_word;this.key_word&&0!=this.key_word.length&&(e.includes(this.key_word)||(e.push(this.key_word),this.key_word=""),this.active_key_word=e)},closeKeyword:function(e){var t=this.active_key_word;t.splice(e,1),this.active_key_word=t},postCommentKeywordsStore:function(){var e=this;if(this.active_key_word&&0!=this.active_key_word.length){var t={name:this.active_key_word};this.$store.dispatch("postCommentKeywordsStore",t).then(function(t){200==t.code&&(e.key_word="",e.active_key_word=[],e.getCommentKeywordsList())})}else this.$message({type:"warning",message:"请选择加入您需要添加的关键词"})},chooseKeywords:function(){var e=this,t=[];this.activeKeywords.forEach(function(o){e.keywords.forEach(function(e){o==e.id&&t.push(e)})}),this.$store.commit("Set_Comment_Active_Keywords",t),this.goBackFn()}}},a={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container",attrs:{id:"operationCommenteditKeywords"}},[o("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[o("el-col",{attrs:{span:10}},[o("div",{staticClass:"item-title item-title-1"},[e._v("添加常用关键词")]),e._v(" "),o("div",[o("label",{staticClass:"radio-label"},[e._v("评论关键词")]),e._v(" "),o("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请添加评论关键词"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.addKeywordsFn(t)}},model:{value:e.key_word,callback:function(t){e.key_word="string"==typeof t?t.trim():t},expression:"key_word"}},[o("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-plus"},on:{click:e.addKeywordsFn},slot:"append"})],1),e._v(" "),o("div",{staticClass:"keyword-arr-box"},e._l(e.active_key_word,function(t,n){return o("el-tag",{key:n,staticStyle:{margin:"0 10px 10px 0"},attrs:{closable:""},on:{close:function(t){e.closeKeyword(n)}}},[e._v("\n            "+e._s(t)+"\n          ")])})),e._v(" "),o("div",[o("el-button",{attrs:{type:"primary"},on:{click:e.postCommentKeywordsStore}},[e._v("确定")])],1)],1),e._v(" "),o("div",{staticClass:"item-title"},[e._v("操作关键词")]),e._v(" "),0!=e.keywords.length?o("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]):e._e(),e._v(" "),o("div",{staticClass:"checkout-box"},[0==e.keywords.length?o("div",[e._v("暂无关键词")]):e._e(),e._v(" "),o("el-checkbox-group",{on:{change:e.handleCheckedChange},model:{value:e.activeKeywords,callback:function(t){e.activeKeywords=t},expression:"activeKeywords"}},e._l(e.keywords,function(t){return o("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.name))])}))],1),e._v(" "),o("div",[o("el-button",{attrs:{type:"danger"},on:{click:e.submitForm}},[e._v("删除")]),e._v(" "),o("el-button",{staticStyle:{"margin-left":"50px"},attrs:{type:"primary"},on:{click:e.chooseKeywords}},[e._v("选择")]),e._v(" "),o("el-button",{on:{click:e.goBackFn}},[e._v("返回")])],1)],1)],1)],1)},staticRenderFns:[]};var c=o("VU/8")(s,a,!1,function(e){o("BOlH")},"data-v-60e3c02e",null);t.default=c.exports},BOlH:function(e,t,o){var n=o("yPky");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o("rjj0")("7dca2c0f",n,!0)},yPky:function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,"\n#operationCommenteditKeywords .el-checkbox[data-v-60e3c02e] {\r\n  margin-bottom: 13px;\n}\n#operationCommenteditKeywords .checkout-box[data-v-60e3c02e] {\r\n  max-height: 500px;\r\n  margin: 15px 0;\r\n  overflow: auto;\n}\n.item-title[data-v-60e3c02e]{\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 10px;\r\n  margin-top: 50px;\n}\n.item-title-1[data-v-60e3c02e]{\r\n  margin-top: 0;\n}\n.keyword-arr-box[data-v-60e3c02e]{\r\n  min-height: 100px;\r\n  /* background: red; */\r\n  margin:10px 0;\r\n  padding: 10px;\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n  background-color: #fafafa;\n}\r\n",""])}});