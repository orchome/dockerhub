webpackJsonp([77],{"2j52":function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},tA7M:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("Xxa5"),i=e.n(a),r=e("exGp"),s=e.n(r),l=e("mvHQ"),o=e.n(l),p=e("Dd8w"),u=e.n(p),c=e("NYxO"),d=e("msXN"),m={name:"CPSOrderList",computed:u()({},Object(c.b)({cpsOrder:"cpsOrder"})),mixins:[d.a],watch:{},data:function(){return{pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(n){var t=new Date,e=new Date;e.setTime(e.getTime()-6048e5),n.$emit("pick",[e,t])}},{text:"最近一个月",onClick:function(n){var t=new Date,e=new Date;e.setTime(e.getTime()-2592e6),n.$emit("pick",[e,t])}},{text:"最近三个月",onClick:function(n){var t=new Date,e=new Date;e.setTime(e.getTime()-7776e6),n.$emit("pick",[e,t])}}]},loading:!1,payType:[{id:"0",name:"全部"},{id:"2",name:"已支付"},{id:"1",name:"未支付"},{id:"3",name:"已关闭"}],params:{is_cps:1,channel_name:"",amount:"",pay_sn:"",status:"0",order_sn:"",start_time:"",user_id:"",admin_id:"",end_time:"",time:[],page:1,promote_link_id:"",link_id:"",link_type:"",activity_id:""},total:0}},created:function(){this.firstLoad()},activated:function(){this.firstLoad()},methods:{firstLoad:function(){this.$route.query&&this.$route.query.id&&(this.params.promote_link_id=this.$route.query.id),this.$route.query&&this.$route.query.link_id&&this.$route.query.link_type&&(this.params.link_id=this.$route.query.link_id,this.params.link_type=this.$route.query.link_type),this.$route.query&&this.$route.query.activity_id&&(this.params.activity_id=this.$route.query.activity_id),this.getCPSOrderFn()},exportFn:function(){var n=JSON.parse(o()(this.params));null!=this.params.time&&this.params.time.length>0&&(n.start_time=this.params.time[0]+" 00:00:00",n.end_time=this.params.time[1]+" 23:59:59",delete n.time),n.export_type=2,n.start_time?this.downloadNoToken("/admin/cps_order_export",n):this.errorMsgFn("请选择时间")},changePayTypeFn:function(){this.getCPSOrderFn()},handleCurrentChange:function(n){this.params.page=n,this.getCPSOrderFn()},fuzzyQueryFn:function(){this.params.page=1,this.getCPSOrderFn()},getCPSOrderFn:function(){var n=s()(i.a.mark(function n(){var t;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=JSON.parse(o()(this.params)),null!=this.params.time&&this.params.time.length>0&&(t.start_time=this.params.time[0]+" 00:00:00",t.end_time=this.params.time[1]+" 23:59:59",delete t.time),0==t.status&&delete t.status,this.loading=!0,n.next=6,this.$store.dispatch("getCPSOrder",t);case 6:this.loading=!1;case 7:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}()}},_={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"bar flex"},[e("div",{staticClass:"flex-left"},[e("ul",{staticClass:"searchConditionUl"},[e("li",[e("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[n._v("支付状态")]),n._v(" "),e("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择支付状态"},on:{change:n.changePayTypeFn},model:{value:n.params.status,callback:function(t){n.$set(n.params,"status",t)},expression:"params.status"}},n._l(n.payType,function(n){return e("el-option",{key:n.id,attrs:{label:n.name,value:n.id}})}))],1),n._v(" "),e("li",[e("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[n._v("用户ID")]),n._v(" "),e("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"输入用户ID",size:"mini"},nativeOn:{keyup:function(t){if(!("button"in t)&&n._k(t.keyCode,"enter",13,t.key))return null;n.fuzzyQueryFn(t)}},model:{value:n.params.user_id,callback:function(t){n.$set(n.params,"user_id",t)},expression:"params.user_id"}})],1),n._v(" "),e("li",[e("label",{staticClass:"radio-label"},[n._v("代理ID")]),n._v(" "),e("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"输入代理ID",size:"mini"},nativeOn:{keyup:function(t){if(!("button"in t)&&n._k(t.keyCode,"enter",13,t.key))return null;n.fuzzyQueryFn(t)}},model:{value:n.params.admin_id,callback:function(t){n.$set(n.params,"admin_id",t)},expression:"params.admin_id"}})],1),n._v(" "),e("li",[e("label",{staticClass:"radio-label"},[n._v("订单号")]),n._v(" "),e("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"输入订单号",size:"mini"},nativeOn:{keyup:function(t){if(!("button"in t)&&n._k(t.keyCode,"enter",13,t.key))return null;n.fuzzyQueryFn(t)}},model:{value:n.params.order_sn,callback:function(t){n.$set(n.params,"order_sn",t)},expression:"params.order_sn"}})],1),n._v(" "),e("li",[e("label",{staticClass:"radio-label"},[n._v("订单时间")]),n._v(" "),e("el-date-picker",{staticStyle:{width:"350px"},attrs:{type:"daterange","value-format":"yyyy-MM-dd","picker-options":n.pickerOptions2,"range-separator":"至","start-placeholder":"订单起始时间","end-placeholder":"订单截止时间",align:"right"},model:{value:n.params.time,callback:function(t){n.$set(n.params,"time",t)},expression:"params.time"}})],1),n._v(" "),e("li",[e("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[n._v("商户单号")]),n._v(" "),e("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"输入商户单号",size:"mini"},nativeOn:{keyup:function(t){if(!("button"in t)&&n._k(t.keyCode,"enter",13,t.key))return null;n.fuzzyQueryFn(t)}},model:{value:n.params.pay_sn,callback:function(t){n.$set(n.params,"pay_sn",t)},expression:"params.pay_sn"}})],1),n._v(" "),e("li",[e("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[n._v("派单渠道")]),n._v(" "),e("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"输入派单渠道名称",size:"mini"},nativeOn:{keyup:function(t){if(!("button"in t)&&n._k(t.keyCode,"enter",13,t.key))return null;n.fuzzyQueryFn(t)}},model:{value:n.params.channel_name,callback:function(t){n.$set(n.params,"channel_name",t)},expression:"params.channel_name"}})],1),n._v(" "),e("li",[e("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[n._v("订单金额")]),n._v(" "),e("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"输入订单金额",size:"mini"},nativeOn:{keyup:function(t){if(!("button"in t)&&n._k(t.keyCode,"enter",13,t.key))return null;n.fuzzyQueryFn(t)}},model:{value:n.params.amount,callback:function(t){n.$set(n.params,"amount",t)},expression:"params.amount"}})],1),n._v(" "),e("li",[e("el-button",{staticClass:"search",attrs:{type:"primary",size:"mini"},on:{click:n.fuzzyQueryFn}},[n._v("搜索")])],1),n._v(" "),e("li",[e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:n.exportFn}},[n._v("导出")])],1)])])]),n._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:n.cpsOrder.data,border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"pay_sn",label:"商户单号","min-width":"80","show-overflow-tooltip":""},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n        "+n._s(t.row.pay_sn||"-")+"\n      ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"order_sn",label:"订单号","min-width":"80","show-overflow-tooltip":""}}),n._v(" "),e("el-table-column",{attrs:{prop:"user_id",label:"用户ID","min-width":"80","show-overflow-tooltip":""}}),n._v(" "),e("el-table-column",{attrs:{prop:"order_sn",label:"充值笔数","min-width":"40"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n        "+n._s(t.row.recharge_number||0)+"\n      ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"_admin",label:"代理信息","min-width":"120"}}),n._v(" "),e("el-table-column",{attrs:{prop:"_parent_admin",label:"上级代理信息","min-width":"80","show-overflow-tooltip":""}}),n._v(" "),e("el-table-column",{attrs:{prop:"amount",label:"订单金额","min-width":"80","show-overflow-tooltip":""}}),n._v(" "),e("el-table-column",{attrs:{prop:"status",label:"订单状态","min-width":"60","show-overflow-tooltip":""},scopedSlots:n._u([{key:"default",fn:function(t){return[3==t.row.status?e("el-tag",{attrs:{type:"info"}},[n._v("已关闭")]):n._e(),n._v(" "),2==t.row.status?e("el-tag",{attrs:{type:"success"}},[n._v("已支付")]):n._e(),n._v(" "),1==t.row.status?e("el-tag",{attrs:{type:"danger"}},[n._v("未支付")]):n._e()]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"pay_at",label:"支付时间","min-width":"120","show-overflow-tooltip":""},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n        "+n._s(t.row.pay_at?t.row.pay_at:"-")+"\n      ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"created_at",label:"创建时间","min-width":"120","show-overflow-tooltip":""}}),n._v(" "),e("el-table-column",{attrs:{prop:"channel_name",label:"派单渠道名称","min-width":"80"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n        "+n._s(t.row.channel_name?t.row.channel_name:"-")+"\n      ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"recharge_source",label:"充值路径","min-width":"60"}}),n._v(" "),e("el-table-column",{attrs:{prop:"book_name",label:"充值来源","min-width":"80"}}),n._v(" "),e("el-table-column",{attrs:{prop:"webchat_name",label:"公众号名称","min-width":"80"}})],1),n._v(" "),e("div",{staticClass:"pagination-container clearfix"},[e("div",{staticClass:"float-left"},[e("global-pagination",{attrs:{"current-page":n.params.page,"page-size":n.params.per_page,layout:"total, sizes, prev, pager, next, jumper",total:n.cpsOrder.total},on:{"current-change":n.handleCurrentChange,"size-change":n.handleSizeChange}})],1)])],1)},staticRenderFns:[]};var h=e("VU/8")(m,_,!1,function(n){e("tT5e")},null,null);t.default=h.exports},tT5e:function(n,t,e){var a=e("2j52");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("752e982a",a,!0)}});