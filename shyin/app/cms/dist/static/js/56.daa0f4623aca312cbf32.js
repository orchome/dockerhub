webpackJsonp([56],{BOru:function(t,e,a){var i=a("Hak7");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("e3968b8a",i,!0)},FhTz:function(t,e,a){var i=a("r7A0");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("77ccd2a8",i,!0)},"G+MN":function(t,e,a){var i=a("VN/e");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("0b9834ad",i,!0)},Hak7:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.condition-screen-box[data-v-451a89fe] {\n  margin-right: 10px;\n  display: inline-block;\n}\n",""])},IKsO:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Dd8w"),n=a.n(i),s=a("NYxO"),o=a("Xxa5"),r=a.n(o),l=a("exGp"),c=a.n(l),p={name:"DomainList",computed:n()({},Object(s.b)({earlyWarningList:"earlyWarningList"})),watch:{},data:function(){return{loading:!1,options:[{id:"",name:"全部"},{id:1,name:"中转域名"},{id:2,name:"落地域名"}],params:{pool_type:3,type:"",product_type:"",per_page:20,page:1,domain:"",orderby:"",orderway:""}}},created:function(){this.getListDataFn()},mounted:function(){},activated:function(){this.getListDataFn()},methods:{delDomainPoolRemove:function(){var t=c()(r.a.mark(function t(e){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:e.id,pool_type:4},t.next=3,this.triggerActionsFn("delDomainPoolRemove",a);case 3:200==t.sent.code&&(this.successMsgFn("已移除"),this.getListDataFn());case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getListDataFn:function(){var t=c()(r.a.mark(function t(){var e,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(e=this).loading=!0,a=this._.cloneDeep(this.params),t.next=5,e.triggerActionsFn("getEarlyWarningList",a,!0);case 5:e.loading=!1;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),flagChange:function(t){var e=this,a={id:t.id,flag:t.flag};this.$store.dispatch("putDomainPoolLabel",a).then(function(t){200==t.code?e.$message({type:"success",message:"更改成功"}):e.getListDataFn()})},changeStatusFn:function(t){var e=this,a={id:t.id,is_open:t.is_open};this.$store.dispatch("putDomainPoolOpen",a).then(function(t){200==t.code?e.$message({message:"更改成功",type:"success"}):e.getListDataFn()})},handleCurrentChange:function(t){this.params.page=t,this.getListDataFn()},handleSizeChange:function(t){this.params.per_page=t,this.getListDataFn()},fuzzyQueryFn:function(){this.params.page=1,this.getListDataFn()},preciseSearch:function(t){this.params.page=1,this.params.domain=t,this.params.type="",this.params.product_type="",this.getListDataFn()},sortChange:function(t){t&&t.prop&&t.order?("id"==t.prop?this.params.orderby="status":"is_open"==t.prop?this.params.orderby="is_open":this.params.orderby="","ascending"==t.order?this.params.orderway="asc":"descending"==t.order?this.params.orderway="desc":this.params.orderway=""):(this.params.orderby="",this.params.orderway=""),this.getListDataFn()}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"bar flex"},[a("div",{staticClass:"flex-left"},[a("div",{staticClass:"condition-screen-box"},[a("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[t._v("域名类型")]),t._v(" "),a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择域名类型"},on:{change:t.fuzzyQueryFn},model:{value:t.params.type,callback:function(e){t.$set(t.params,"type",e)},expression:"params.type"}},t._l(t.options,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("div",{staticClass:"condition-screen-box"},[a("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[t._v("产品种类")]),t._v(" "),a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择产品种类"},on:{change:t.fuzzyQueryFn},model:{value:t.params.product_type,callback:function(e){t.$set(t.params,"product_type",e)},expression:"params.product_type"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"小说",value:1}}),t._v(" "),a("el-option",{attrs:{label:"美图",value:2}})],1)],1)])]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%","text-align":"center"},attrs:{data:t.earlyWarningList.data,border:"",stripe:""},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{prop:"id",label:"ID","min-width":"80",sortable:"custom",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"id-box"},[t._v("\n          "+t._s(e.row.id)+"\n          "),a("span",{staticClass:"id-status",class:{"id-status-1":"1"==e.row.status,"id-status-2":"2"==e.row.status,"id-status-3":"3"==e.row.status}})])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"domain",label:"域名","min-width":"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"域名类型","min-width":"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.type?a("el-tag",[t._v("中转域名")]):2==e.row.type?a("el-tag",{attrs:{type:"success"}},[t._v("落地域名")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"product_type",label:"产品种类","min-width":"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(1==e.row.product_type?"小说":2==e.row.product_type?"美图":"-"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"is_open",label:"是否开启","min-width":"120","show-overflow-tooltip":"",sortable:"custom",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-text":"开","inactive-text":"关","active-value":1,"inactive-value":0},on:{change:function(a){t.changeStatusFn(e.row)}},model:{value:e.row.is_open,callback:function(a){t.$set(e.row,"is_open",a)},expression:"scope.row.is_open"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间","min-width":"120","show-overflow-tooltip":"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dead_time",label:"挂掉时间","min-width":"120","show-overflow-tooltip":"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"top",width:"100"},model:{value:e.row.delete,callback:function(a){t.$set(e.row,"delete",a)},expression:"scope.row.delete"}},[a("p",[t._v("确认删除选择的域名？")]),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.row.delete=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.delDomainPoolRemove(e.row),e.row.delete=!1}}},[t._v("确定")])],1),t._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},on:{click:function(t){e.row.delete=!0}},slot:"reference"},[t._v("删除")])],1)]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-container clearfix"},[a("div",{staticClass:"float-left"},[a("global-pagination",{attrs:{"current-page":t.params.page,"page-size":t.params.per_page,total:t.earlyWarningList.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)])],1)},staticRenderFns:[]};var u=a("VU/8")(p,d,!1,function(t){a("G+MN")},"data-v-76a02927",null).exports,f=a("0xDb"),m={name:"DomainList",computed:n()({},Object(s.b)({earlyWarningList:"earlyWarningList"})),watch:{},data:function(){return{loading:!1,options:[{id:"",name:"全部"},{id:1,name:"中转域名"},{id:2,name:"落地域名"}],params:{pool_type:1,affiliation:"1",type:"",product_type:"",per_page:20,page:1,domain:"",orderby:"",orderway:""}}},created:function(){this.getListDataFn()},mounted:function(){},activated:function(){this.getListDataFn()},methods:{delDomainPoolRemove:function(){var t=c()(r.a.mark(function t(e){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:e.id,pool_type:4},t.next=3,this.triggerActionsFn("delDomainPoolRemove",a);case 3:200==t.sent.code&&(this.successMsgFn("已移除"),this.getListDataFn());case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getListDataFn:function(){var t=c()(r.a.mark(function t(e){var a,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a=this).loading=!0,i=this._.cloneDeep(this.params),t.next=5,a.triggerActionsFn("getEarlyWarningList",i,!0);case 5:"location"==e&&this.locationAffiliationFn(),a.loading=!1;case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),locationAffiliationFn:function(){var t=this.earlyWarningList.data;t&&t.length>0&&t[0]&&(this.params.affiliation=t[0].affiliation+"")},flagChange:function(t){var e=this,a={id:t.id,flag:t.flag};this.$store.dispatch("putDomainPoolLabel",a).then(function(t){200==t.code?e.$message({type:"success",message:"更改成功"}):e.getListDataFn()})},changeStatusFn:function(t){var e=this,a={id:t.id,is_open:t.is_open,type:"cps_general_pool"};this.$store.dispatch("putDomainPoolOpen",a).then(function(t){200==t.code?e.$message({message:"更改成功",type:"success"}):e.getListDataFn()})},putDomainPoolIsNormal:function(t,e){var a=this,i={id:t.id,status:e,pool_type:this.params.pool_type,affiliation:t.affiliation,flag:t.flag,admin_id:t.admin_id||0};this.$store.dispatch("putDomainPoolIsNormal",i).then(function(t){200==t.code&&a.$message({message:"修改成功",type:"success"}),a.getListDataFn(),a.loadStatus()})},loadStatus:function(){this.$emit("loadStatus")},rebirthMenuFn:function(t){var e=this;console.log(t),this.$alert("<div style='font-size:15px'>此操作将使用此域名，对所有使用当前域名池的公众号进行重新生成微信菜单动作，新菜单生效有1-10分钟时延。</div><div style='color:red; margin-top:15px'>您确定要重新生成吗？</div>","重生菜单",{dangerouslyUseHTMLString:!0,showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"确定"}).then(function(){e.$store.dispatch("getDomainPoolGeneralUpdateMenu",{}).then(function(t){200==t.code?e.$message({type:"success",message:"成功"}):e.$message({type:"error",message:"失败"})})}).catch(function(){})},handleCurrentChange:function(t){this.params.page=t,this.getListDataFn()},handleSizeChange:function(t){this.params.per_page=t,this.getListDataFn()},fuzzyQueryFn:function(){this.params.page=1,this.getListDataFn()},preciseSearch:function(t){""!=t&&t?(this.params.page=1,this.params.domain=t,this.params.affiliation="",this.params.type="",this.params.product_type="",this.getListDataFn("location")):(this.params.page=1,this.params.domain=t,this.params.affiliation=this.params.affiliation||"1",this.params.type="",this.params.product_type="",this.getListDataFn())},sortChange:function(t){t&&t.prop&&t.order?("id"==t.prop?this.params.orderby="status":"is_open"==t.prop?this.params.orderby="is_open":this.params.orderby="","ascending"==t.order?this.params.orderway="asc":"descending"==t.order?this.params.orderway="desc":this.params.orderway=""):(this.params.orderby="",this.params.orderway=""),this.getListDataFn()},allOpenFn:function(t){var e=this;return c()(r.a.mark(function a(){var i;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i={all:1,pool_type:1,affiliation:e.params.affiliation,value:t},a.next=3,e.$store.dispatch("postDomainAllOpen",i);case 3:200==a.sent.code&&(Object(f.i)("修改成功~"),e.getListDataFn());case 5:case"end":return a.stop()}},a,e)}))()},singleChangeFn:function(t){var e=this;return c()(r.a.mark(function a(){var i;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i={one:1,id:t.id,value:t.is_use_no_die_bird},a.next=3,e.$store.dispatch("postDomainSingle",i);case 3:200==a.sent.code&&Object(f.i)("修改成功~"),e.getListDataFn();case 6:case"end":return a.stop()}},a,e)}))()}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"bar flex",staticStyle:{"padding-bottom":"0px"}},[a("div",{staticClass:"flex-left"},[a("el-tabs",{on:{"tab-click":t.fuzzyQueryFn},model:{value:t.params.affiliation,callback:function(e){t.$set(t.params,"affiliation",e)},expression:"params.affiliation"}},[a("el-tab-pane",{attrs:{name:"1",label:"微信菜单"}}),t._v(" "),a("el-tab-pane",{attrs:{name:"2",label:"推广链接"}}),t._v(" "),a("el-tab-pane",{attrs:{name:"3",label:"消息推送"}}),t._v(" "),a("el-tab-pane",{attrs:{name:"4",label:"平台活动"}}),t._v(" "),a("el-tab-pane",{attrs:{name:"5",label:"充值支付"}})],1)],1)]),t._v(" "),a("div",{staticClass:"bar flex"},[a("div",{staticClass:"flex-left"},[a("div",{staticClass:"condition-screen-box"},[a("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[t._v("域名类型")]),t._v(" "),a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择域名类型"},on:{change:t.fuzzyQueryFn},model:{value:t.params.type,callback:function(e){t.$set(t.params,"type",e)},expression:"params.type"}},t._l(t.options,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("div",{staticClass:"condition-screen-box"},[a("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[t._v("产品种类")]),t._v(" "),a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择产品种类"},on:{change:t.fuzzyQueryFn},model:{value:t.params.product_type,callback:function(e){t.$set(t.params,"product_type",e)},expression:"params.product_type"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"小说",value:1}}),t._v(" "),a("el-option",{attrs:{label:"美图",value:2}})],1)],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:5!=t.params.affiliation,expression:"params.affiliation != 5"}],staticClass:"flex-right"},[a("el-button",{attrs:{type:"success",round:""},on:{click:function(e){t.allOpenFn(1)}}},[t._v("防封全开")]),t._v(" "),a("el-button",{attrs:{type:"danger",round:""},on:{click:function(e){t.allOpenFn(0)}}},[t._v("防封全关")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%","text-align":"center"},attrs:{data:t.earlyWarningList.data,border:"",stripe:""},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{prop:"id",label:"ID","min-width":"80",sortable:"custom",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("\n                    "+t._s(e.row.id)+"\n                    "),a("span",{staticClass:"id-status",class:{"id-status-1":1==e.row.status,"id-status-2":2==e.row.status,"id-status-3":3==e.row.status}})])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"domain",label:"域名","min-width":"150",align:"center"}}),t._v(" "),3==t.params.affiliation?a("el-table-column",{attrs:{prop:"flag",label:"标记","min-width":"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(a){t.flagChange(e.row)}},model:{value:e.row.flag,callback:function(a){t.$set(e.row,"flag",a)},expression:"scope.row.flag"}},[a("el-option",{attrs:{label:"其它交互触发",value:1}}),t._v(" "),a("el-option",{attrs:{label:"继续阅读",value:2}}),t._v(" "),a("el-option",{attrs:{label:"章节更新",value:3}}),t._v(" "),a("el-option",{attrs:{label:"智能托管",value:4}}),t._v(" "),a("el-option",{attrs:{label:"关注图文推送",value:5}}),t._v(" "),a("el-option",{attrs:{label:"群发推广",value:6}})],1)]}}])}):t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"product_type",label:"产品种类","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(1==e.row.product_type?"小说":2==e.row.product_type?"美图":"-"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"域名类型","min-width":"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.type?a("el-tag",[t._v("中转域名")]):2==e.row.type?a("el-tag",{attrs:{type:"success"}},[t._v("落地域名")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"is_open",label:"是否开启","min-width":"120","show-overflow-tooltip":"",sortable:"custom",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-text":"开","inactive-text":"关","active-value":1,"inactive-value":0},on:{change:function(a){t.changeStatusFn(e.row)}},model:{value:e.row.is_open,callback:function(a){t.$set(e.row,"is_open",a)},expression:"scope.row.is_open"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间","min-width":"120","show-overflow-tooltip":"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dead_time",label:"挂掉时间","min-width":"120","show-overflow-tooltip":"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"400",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"top",width:"100"},model:{value:e.row.delete,callback:function(a){t.$set(e.row,"delete",a)},expression:"scope.row.delete"}},[a("p",[t._v("确认删除选择的域名？")]),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.row.delete=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.delDomainPoolRemove(e.row),e.row.delete=!1}}},[t._v("确定")])],1),t._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},on:{click:function(t){e.row.delete=!0}},slot:"reference"},[t._v("删除")])],1),t._v(" "),[1==e.row.affiliation&&1==e.row.type&&1==e.row.is_open?a("el-button",{staticStyle:{"margin-left":"20px"},on:{click:function(a){t.rebirthMenuFn(e.row)}}},[t._v("重生菜单")]):t._e()],t._v(" "),2!=t.params.affiliation&&3!=t.params.affiliation||1!=e.row.type||1!=e.row.is_open?t._e():[2==e.row.status?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"text"},on:{click:function(a){t.putDomainPoolIsNormal(e.row,1)}}},[t._v("取消隔离")]):a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"text"},on:{click:function(a){t.putDomainPoolIsNormal(e.row,2)}}},[t._v("隔离")])],t._v(" "),0!=t.params.affiliation&&5!=t.params.affiliation&&1==e.row.is_open&&1==e.row.type?[a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"开","inactive-text":"关","active-value":1,"inactive-value":0},on:{change:function(a){t.singleChangeFn(e.row)}},model:{value:e.row.is_use_no_die_bird,callback:function(a){t.$set(e.row,"is_use_no_die_bird",a)},expression:"scope.row.is_use_no_die_bird"}})]:t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-container clearfix"},[a("div",{staticClass:"float-left"},[a("global-pagination",{attrs:{"current-page":t.params.page,"page-size":t.params.per_page,total:t.earlyWarningList.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)])],1)},staticRenderFns:[]};var _=a("VU/8")(m,v,!1,function(t){a("cdFf")},"data-v-8ec66274",null).exports,h={name:"DomainList",computed:n()({},Object(s.b)({earlyWarningList:"earlyWarningList"})),watch:{},data:function(){return{loading:!1,options:[{id:"",name:"全部"},{id:1,name:"中转域名"},{id:2,name:"落地域名"}],keywords:"",params:{pool_type:2,affiliation:"0",type:"",product_type:"",per_page:20,page:1,domain:"",orderby:"",orderway:"",keySelect:"1"}}},created:function(){this.getListDataFn()},mounted:function(){},activated:function(){this.getListDataFn()},methods:{delDomainPoolRemove:function(){var t=c()(r.a.mark(function t(e){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:e.id,pool_type:4},t.next=3,this.triggerActionsFn("delDomainPoolRemove",a);case 3:200==t.sent.code&&(this.successMsgFn("已移除"),this.getListDataFn());case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getListDataFn:function(){var t=c()(r.a.mark(function t(e){var a,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a=this).loading=!0,1==(i=this._.cloneDeep(this.params)).keySelect?i.admin_id=this.keywords:2==i.keySelect&&(i.username=this.keywords),delete i.keySelect,t.next=7,a.triggerActionsFn("getEarlyWarningList",i,!0);case 7:"location"==e&&this.locationAffiliationFn(),a.loading=!1;case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),locationAffiliationFn:function(){var t=this.earlyWarningList.data;t&&t.length>0&&t[0]&&(this.params.affiliation=t[0].affiliation+"")},flagChange:function(t){var e=this,a={id:t.id,flag:t.flag};this.$store.dispatch("putDomainPoolLabel",a).then(function(t){200==t.code?e.$message({type:"success",message:"更改成功"}):e.getListDataFn()})},changeStatusFn:function(t){var e=this,a={id:t.id,is_open:t.is_open,type:"cps_exclusive_pool"};this.$store.dispatch("putDomainPoolOpen",a).then(function(t){200==t.code?e.$message({message:"更改成功",type:"success"}):e.getListDataFn()})},putDomainPoolIsNormal:function(t,e){var a=this,i={id:t.id,status:e,pool_type:this.params.pool_type,affiliation:t.affiliation,flag:t.flag,admin_id:t.admin_id||0};this.$store.dispatch("putDomainPoolIsNormal",i).then(function(t){200==t.code&&a.$message({message:"修改成功",type:"success"}),a.getListDataFn(),a.loadStatus()})},loadStatus:function(){this.$emit("loadStatus")},rebirthMenuFn:function(t){var e=this;this.$alert("<div style='font-size:15px'>此操作将使用此域名，对所有使用当前域名池的公众号进行重新生成微信菜单动作，新菜单生效有1-10分钟时延。</div><div style='color:red; margin-top:15px'>您确定要重新生成吗？</div>","重生菜单",{dangerouslyUseHTMLString:!0,showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"确定"}).then(function(){e.$store.dispatch("postDomainPoolExclusiveUpdateMenu",{admin_id:t.admin_id}).then(function(t){200==t.code?e.$message({type:"success",message:"成功"}):e.$message({type:"error",message:"失败"})})}).catch(function(){})},handleCurrentChange:function(t){this.params.page=t,this.getListDataFn()},handleSizeChange:function(t){this.params.per_page=t,this.getListDataFn()},fuzzyQueryFn:function(){this.params.page=1,this.getListDataFn()},preciseSearch:function(t){""!=t&&t?(this.params.page=1,this.params.domain=t,this.params.affiliation="",this.params.type="",this.params.product_type="",this.getListDataFn("location")):(this.params.page=1,this.params.domain=t,this.params.affiliation=this.params.affiliation||"0",this.params.type="",this.params.product_type="",this.getListDataFn())},sortChange:function(t){t&&t.prop&&t.order?("id"==t.prop?this.params.orderby="status":"is_open"==t.prop?this.params.orderby="is_open":this.params.orderby="","ascending"==t.order?this.params.orderway="asc":"descending"==t.order?this.params.orderway="desc":this.params.orderway=""):(this.params.orderby="",this.params.orderway=""),this.getListDataFn()},allOpenFn:function(t){var e=this;return c()(r.a.mark(function a(){var i;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i={all:1,pool_type:2,affiliation:e.params.affiliation,value:t},a.next=3,e.$store.dispatch("postDomainAllOpen",i);case 3:200==a.sent.code&&(Object(f.i)("修改成功~"),e.getListDataFn());case 5:case"end":return a.stop()}},a,e)}))()},singleChangeFn:function(t){var e=this;return c()(r.a.mark(function a(){var i;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i={one:1,id:t.id,value:t.is_use_no_die_bird},a.next=3,e.$store.dispatch("postDomainSingle",i);case 3:200==a.sent.code&&Object(f.i)("修改成功~"),e.getListDataFn();case 6:case"end":return a.stop()}},a,e)}))()}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"bar flex",staticStyle:{"padding-bottom":"0px"}},[a("div",{staticClass:"flex-left"},[a("el-tabs",{on:{"tab-click":t.fuzzyQueryFn},model:{value:t.params.affiliation,callback:function(e){t.$set(t.params,"affiliation",e)},expression:"params.affiliation"}},[a("el-tab-pane",{attrs:{name:"0",label:"全部"}}),t._v(" "),a("el-tab-pane",{attrs:{name:"1",label:"微信菜单"}}),t._v(" "),a("el-tab-pane",{attrs:{name:"2",label:"推广链接"}}),t._v(" "),a("el-tab-pane",{attrs:{name:"3",label:"消息推送"}}),t._v(" "),a("el-tab-pane",{attrs:{name:"4",label:"平台活动"}}),t._v(" "),a("el-tab-pane",{attrs:{name:"5",label:"充值支付"}})],1)],1)]),t._v(" "),a("div",{staticClass:"bar flex"},[a("div",{staticClass:"flex-left"},[a("div",{staticClass:"condition-screen-box"},[a("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[t._v("域名类型")]),t._v(" "),a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择域名类型"},on:{change:t.fuzzyQueryFn},model:{value:t.params.type,callback:function(e){t.$set(t.params,"type",e)},expression:"params.type"}},t._l(t.options,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("div",{staticClass:"condition-screen-box"},[a("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[t._v("产品种类")]),t._v(" "),a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择产品种类"},on:{change:t.fuzzyQueryFn},model:{value:t.params.product_type,callback:function(e){t.$set(t.params,"product_type",e)},expression:"params.product_type"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"小说",value:1}}),t._v(" "),a("el-option",{attrs:{label:"美图",value:2}})],1)],1),t._v(" "),a("div",{staticClass:"condition-screen-box",staticStyle:{"margin-left":"20px"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:1==t.params.keySelect?"输入内容,特级代理ID不需要T开头":"输入内容",size:"mini","prefix-icon":"el-icon-search",clearable:""},on:{clear:t.fuzzyQueryFn},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.fuzzyQueryFn(e)}},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}},[a("el-select",{staticClass:"input-with-select",staticStyle:{width:"100px"},attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.params.keySelect,callback:function(e){t.$set(t.params,"keySelect",e)},expression:"params.keySelect"}},[a("el-option",{attrs:{label:"代理ID",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"用户名",value:"2"}})],1)],1),t._v(" "),a("el-button",{staticClass:"search",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:t.fuzzyQueryFn}},[t._v("搜索")])],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.params.affiliation&&5!=t.params.affiliation,expression:"params.affiliation != 0 && params.affiliation != 5"}],staticClass:"flex-right"},[a("el-button",{attrs:{type:"success",round:""},on:{click:function(e){t.allOpenFn(1)}}},[t._v("防封全开")]),t._v(" "),a("el-button",{attrs:{type:"danger",round:""},on:{click:function(e){t.allOpenFn(0)}}},[t._v("防封全关")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%","text-align":"center"},attrs:{data:t.earlyWarningList.data,border:"",stripe:""},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{prop:"id",label:"ID","min-width":"80",sortable:"custom",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"id-box"},[t._v("\n                    "+t._s(e.row.id)+"\n                    "),a("span",{staticClass:"id-status",class:{"id-status-1":"1"==e.row.status,"id-status-2":"2"==e.row.status,"id-status-3":"3"==e.row.status}})])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"domain",label:"域名","min-width":"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"域名类型","min-width":"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.type?a("el-tag",[t._v("中转域名")]):2==e.row.type?a("el-tag",{attrs:{type:"success"}},[t._v("落地域名")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"cps_admin",label:"归属","min-width":"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.cps_admin?a("div",[t._v("\n                    代理ID: "+t._s(10==e.row.cps_admin.level?"T":"")+t._s(e.row.admin_id)+" "),a("br"),t._v("\n                    用户名: "+t._s(e.row.cps_admin.username)+"\n                ")]):t._e()]}}])}),t._v(" "),0==t.params.affiliation?a("el-table-column",{attrs:{prop:"affiliation",label:"用途","min-width":"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.affiliation?a("div",[t._v("微信菜单")]):t._e(),t._v(" "),2==e.row.affiliation?a("div",[t._v("推广链接")]):t._e(),t._v(" "),3==e.row.affiliation?a("div",[t._v("消息推送")]):t._e(),t._v(" "),4==e.row.affiliation?a("div",[t._v("平台活动")]):t._e(),t._v(" "),5==e.row.affiliation?a("div",[t._v("充值支付")]):t._e()]}}])}):t._e(),t._v(" "),3==t.params.affiliation||0==t.params.affiliation?a("el-table-column",{attrs:{prop:"flag",label:"标记","min-width":"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.flag?a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(a){t.flagChange(e.row)}},model:{value:e.row.flag,callback:function(a){t.$set(e.row,"flag",a)},expression:"scope.row.flag"}},[a("el-option",{attrs:{label:"其它交互触发",value:1}}),t._v(" "),a("el-option",{attrs:{label:"继续阅读",value:2}}),t._v(" "),a("el-option",{attrs:{label:"章节更新",value:3}}),t._v(" "),a("el-option",{attrs:{label:"智能托管",value:4}}),t._v(" "),a("el-option",{attrs:{label:"关注图文推送",value:5}}),t._v(" "),a("el-option",{attrs:{label:"群发推广",value:6}})],1):t._e()]}}])}):t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"domain",label:"产品种类","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(1==e.row.product_type?"小说":2==e.row.product_type?"美图":"-"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"is_open",label:"是否开启","min-width":"120","show-overflow-tooltip":"",sortable:"custom",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-text":"开","inactive-text":"关","active-value":1,"inactive-value":0},on:{change:function(a){t.changeStatusFn(e.row)}},model:{value:e.row.is_open,callback:function(a){t.$set(e.row,"is_open",a)},expression:"scope.row.is_open"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间","min-width":"120","show-overflow-tooltip":"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dead_time",label:"挂掉时间","min-width":"120","show-overflow-tooltip":"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"400",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"top",width:"100"},model:{value:e.row.delete,callback:function(a){t.$set(e.row,"delete",a)},expression:"scope.row.delete"}},[a("p",[t._v("确认删除选择的域名？")]),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.row.delete=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.delDomainPoolRemove(e.row),e.row.delete=!1}}},[t._v("确定")])],1),t._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},on:{click:function(t){e.row.delete=!0}},slot:"reference"},[t._v("删除")])],1),t._v(" "),[1==e.row.affiliation&&1==e.row.type&&1==e.row.is_open?a("el-button",{staticStyle:{"margin-left":"20px"},on:{click:function(a){t.rebirthMenuFn(e.row)}}},[t._v("重生菜单")]):t._e()],t._v(" "),2!=e.row.affiliation&&3!=e.row.affiliation||1!=e.row.type||1!=e.row.is_open?t._e():[2==e.row.status?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"text"},on:{click:function(a){t.putDomainPoolIsNormal(e.row,1)}}},[t._v("取消隔离")]):a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"text"},on:{click:function(a){t.putDomainPoolIsNormal(e.row,2)}}},[t._v("隔离")])],t._v(" "),0!=t.params.affiliation&&5!=t.params.affiliation&&1==e.row.is_open&&1==e.row.type?[a("el-switch",{staticStyle:{"margin-left":"20px"},attrs:{"active-text":"开","inactive-text":"关","active-value":1,"inactive-value":0},on:{change:function(a){t.singleChangeFn(e.row)}},model:{value:e.row.is_use_no_die_bird,callback:function(a){t.$set(e.row,"is_use_no_die_bird",a)},expression:"scope.row.is_use_no_die_bird"}})]:t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-container clearfix"},[a("div",{staticClass:"float-left"},[a("global-pagination",{attrs:{"current-page":t.params.page,"page-size":t.params.per_page,total:t.earlyWarningList.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)])],1)},staticRenderFns:[]};var y=a("VU/8")(h,g,!1,function(t){a("FhTz")},"data-v-20f894b8",null).exports,b={name:"DomainList",computed:n()({},Object(s.b)({earlyWarningList:"earlyWarningList"})),watch:{},data:function(){return{loading:!1,options:[{id:"",name:"全部"},{id:1,name:"中转域名"},{id:2,name:"落地域名"}],options2:[{id:"",name:"全部"},{id:1,name:"微信菜单"},{id:2,name:"推广链接"},{id:3,name:"消息推送"},{id:4,name:"平台活动"},{id:5,name:"充值支付"}],keywords:"",params:{pool_type:4,affiliation:"",type:"",product_type:"",per_page:20,page:1,domain:"",orderby:"",orderway:"",keySelect:"1"}}},created:function(){this.getListDataFn()},mounted:function(){},activated:function(){this.getListDataFn()},methods:{delDomainPoolDel:function(){var t=c()(r.a.mark(function t(e){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:e.id},t.next=3,this.triggerActionsFn("delDomainPoolDel",a);case 3:200==t.sent.code&&(this.successMsgFn("已移除"),this.getListDataFn());case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getListDataFn:function(){var t=c()(r.a.mark(function t(){var e,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(e=this).loading=!0,1==(a=this._.cloneDeep(this.params)).keySelect?a.admin_id=this.keywords:2==a.keySelect&&(a.username=this.keywords),delete a.keySelect,t.next=7,e.triggerActionsFn("getEarlyWarningList",a,!0);case 7:e.loading=!1;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),changeStatusFn:function(t){var e=this,a={id:t.id,is_open:t.is_open};this.$store.dispatch("putDomainPoolOpen",a).then(function(t){200==t.code?e.$message({message:"更改成功",type:"success"}):e.getListDataFn()})},handleCurrentChange:function(t){this.params.page=t,this.getListDataFn()},handleSizeChange:function(t){this.params.per_page=t,this.getListDataFn()},fuzzyQueryFn:function(){this.params.page=1,this.getListDataFn()},preciseSearch:function(t){this.params.page=1,this.params.domain=t,this.params.type="",this.params.product_type="",this.getListDataFn()},sortChange:function(t){t&&t.prop&&t.order?("id"==t.prop?this.params.orderby="status":"is_open"==t.prop?this.params.orderby="is_open":this.params.orderby="","ascending"==t.order?this.params.orderway="asc":"descending"==t.order?this.params.orderway="desc":this.params.orderway=""):(this.params.orderby="",this.params.orderway=""),this.getListDataFn()}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"bar flex"},[a("div",{staticClass:"flex-left"},[a("div",{staticClass:"condition-screen-box"},[a("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[t._v("域名用途")]),t._v(" "),a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择域名类型"},on:{change:t.fuzzyQueryFn},model:{value:t.params.affiliation,callback:function(e){t.$set(t.params,"affiliation",e)},expression:"params.affiliation"}},t._l(t.options2,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("div",{staticClass:"condition-screen-box"},[a("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[t._v("域名类型")]),t._v(" "),a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择域名类型"},on:{change:t.fuzzyQueryFn},model:{value:t.params.type,callback:function(e){t.$set(t.params,"type",e)},expression:"params.type"}},t._l(t.options,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("div",{staticClass:"condition-screen-box"},[a("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[t._v("产品种类")]),t._v(" "),a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择产品种类"},on:{change:t.fuzzyQueryFn},model:{value:t.params.product_type,callback:function(e){t.$set(t.params,"product_type",e)},expression:"params.product_type"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"小说",value:1}}),t._v(" "),a("el-option",{attrs:{label:"美图",value:2}})],1)],1),t._v(" "),a("div",{staticClass:"condition-screen-box",staticStyle:{"margin-left":"20px"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:1==t.params.keySelect?"输入内容,特级代理ID不需要T开头":"输入内容",size:"mini","prefix-icon":"el-icon-search",clearable:""},on:{clear:t.fuzzyQueryFn},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.fuzzyQueryFn(e)}},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}},[a("el-select",{staticClass:"input-with-select",staticStyle:{width:"100px"},attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.params.keySelect,callback:function(e){t.$set(t.params,"keySelect",e)},expression:"params.keySelect"}},[a("el-option",{attrs:{label:"代理ID",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"用户名",value:"2"}})],1)],1),t._v(" "),a("el-button",{staticClass:"search",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:t.fuzzyQueryFn}},[t._v("搜索")])],1)])]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%","text-align":"center"},attrs:{data:t.earlyWarningList.data,border:"",stripe:""},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{prop:"id",label:"ID","min-width":"80",sortable:"custom",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"id-box"},[t._v("\n          "+t._s(e.row.id)+"\n          "),a("span",{staticClass:"id-status",class:{"id-status-1":"1"==e.row.status,"id-status-2":"2"==e.row.status,"id-status-3":"3"==e.row.status}})])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"domain",label:"域名","min-width":"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"delete_before_belong",label:"先前隶属","min-width":"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.delete_before_belong?a("div",[t._v("通用池")]):t._e(),t._v(" "),2==e.row.delete_before_belong?a("div",[t._v("专属池")]):t._e(),t._v(" "),3==e.row.delete_before_belong?a("div",[t._v("灾备池")]):t._e(),t._v(" "),4==e.row.delete_before_belong?a("div",[t._v("垃圾池")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"域名类型","min-width":"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.type?a("el-tag",[t._v("中转域名")]):2==e.row.type?a("el-tag",{attrs:{type:"success"}},[t._v("落地域名")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"cps_admin",label:"归属","min-width":"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.cps_admin?a("div",[t._v("\n          代理ID: "+t._s(10==e.row.cps_admin.level?"T":"")+t._s(e.row.admin_id)+" "),a("br"),t._v("\n          用户名: "+t._s(e.row.cps_admin.username)+"\n        ")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"domain",label:"产品种类","min-width":"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(1==e.row.product_type?"小说":2==e.row.product_type?"美图":"-"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"flag",label:"用途","min-width":"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.affiliation?[t._v("微信菜单")]:t._e(),t._v(" "),2==e.row.affiliation?[t._v("推广链接")]:t._e(),t._v(" "),3==e.row.affiliation?[t._v("消息推送")]:t._e(),t._v(" "),4==e.row.affiliation?[t._v("平台活动")]:t._e(),t._v(" "),5==e.row.affiliation?[t._v("充值支付")]:t._e(),t._v(" "),e.row.affiliation&&e.row.flag?[t._v("-")]:t._e(),t._v(" "),1==e.row.flag?[t._v("其它交互触发")]:t._e(),t._v(" "),2==e.row.flag?[t._v("继续阅读")]:t._e(),t._v(" "),3==e.row.flag?[t._v("章节更新")]:t._e(),t._v(" "),4==e.row.flag?[t._v("智能托管")]:t._e(),t._v(" "),5==e.row.flag?[t._v("关注图文推送")]:t._e(),t._v(" "),6==e.row.flag?[t._v("群发推广")]:t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间","min-width":"120","show-overflow-tooltip":"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dead_time",label:"挂掉时间","min-width":"120","show-overflow-tooltip":"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"top",width:"100"},model:{value:e.row.delete,callback:function(a){t.$set(e.row,"delete",a)},expression:"scope.row.delete"}},[a("p",[t._v("确认删除选择的域名？")]),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.row.delete=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.delDomainPoolDel(e.row),e.row.delete=!1}}},[t._v("确定")])],1),t._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},on:{click:function(t){e.row.delete=!0}},slot:"reference"},[t._v("删除")])],1)]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-container clearfix"},[a("div",{staticClass:"float-left"},[a("global-pagination",{attrs:{"current-page":t.params.page,"page-size":t.params.per_page,total:t.earlyWarningList.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)])],1)},staticRenderFns:[]};var x=a("VU/8")(b,w,!1,function(t){a("BOru")},"data-v-451a89fe",null).exports,k={name:"DomainList",computed:n()({},Object(s.b)({})),components:{BackupPool:u,CommonPool:_,ExclusivePool:y,RubbishPool:x},watch:{},data:function(){return{loading:!1,options:"1",trusteeship:!1,params:{keywords:"",affiliation:"1"},status:{close:0,isolation:0,normal:0}}},created:function(){this.getStatus(),this.getDomainPoolIsConf()},mounted:function(){},activated:function(){},methods:{searchFn:function(){var t="commonPool";1==this.options?t="commonPool":2==this.options?t="exclusivePool":3==this.options?t="backupPool":4==this.options&&(t="rubbishPool"),this.$refs[t].preciseSearch(this.params.keywords)},radioChange:function(){this.getDomainPoolIsConf(),this.getStatus()},getStatus:function(){var t=this,e={pool_type:this.options};1!=this.options&&2!=this.options||this.$store.dispatch("getStatusCount",e).then(function(e){t.status=e.data})},getDomainPoolIsConf:function(){var t=this,e={type:""};1!=this.options&&2!=this.options||(1==this.options?e.type="cps_general_pool":2==this.options&&(e.type="cps_exclusive_pool"),this.$store.dispatch("getDomainPoolIsConf",e).then(function(e){200==e.code&&(t.trusteeship=0!=e.data.status)}))},putGeneralUpdate:function(){var t=this,e={type:"",status:""};1==this.options?e.type="cps_general_pool":2==this.options&&(e.type="cps_exclusive_pool"),e.status=Number(this.trusteeship),this.$store.dispatch("putGeneralUpdate",e).then(function(e){200==e.code&&t.$message({type:"success",message:"修改成功"})})}}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container",attrs:{id:"domain-list"}},[a("div",{staticClass:"bar flex"},[a("div",{staticClass:"flex-left"},[a("el-radio-group",{staticStyle:{"margin-right":"20px"},attrs:{size:"big"},on:{change:t.radioChange},model:{value:t.options,callback:function(e){t.options=e},expression:"options"}},[a("el-radio-button",{attrs:{label:"1"}},[t._v("通用域名池")]),t._v(" "),a("el-radio-button",{attrs:{label:"2"}},[t._v("专属域名池")]),t._v(" "),a("el-radio-button",{attrs:{label:"3"}},[t._v("灾备域名池")]),t._v(" "),a("el-radio-button",{attrs:{label:"4"}},[t._v("垃圾池")])],1),t._v(" "),1==t.options||2==t.options?a("div",{staticClass:"condition-screen-box"},[a("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[t._v("当前状况：")]),t._v(" "),a("div",{staticClass:"status-box"},[a("div",{staticClass:"status-item status-item-1"},[t._v("\n            存活 "),a("span",[t._v(t._s(t.status.normal))])]),t._v(" "),a("div",{staticClass:"status-item status-item-2"},[t._v("\n            隔离 "),a("span",[t._v(t._s(t.status.isolation))])]),t._v(" "),a("div",{staticClass:"status-item status-item-3"},[t._v("\n            挂掉 "),a("span",[t._v(t._s(t.status.close))])])])]):t._e(),t._v(" "),1==t.options||2==t.options?a("div",{staticClass:"condition-screen-box"},[a("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[t._v("域名托管：")]),t._v(" "),a("el-switch",{on:{change:t.putGeneralUpdate},model:{value:t.trusteeship,callback:function(e){t.trusteeship=e},expression:"trusteeship"}})],1):t._e()],1),t._v(" "),a("div",{staticClass:"flex-right"},[a("div",{staticClass:"condition-screen-box"},[a("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0"}},[t._v("域名")]),t._v(" "),a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"输入域名",size:"mini","prefix-icon":"el-icon-search",clearable:""},on:{clear:t.searchFn},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchFn(e)}},model:{value:t.params.keywords,callback:function(e){t.$set(t.params,"keywords",e)},expression:"params.keywords"}}),t._v(" "),a("el-button",{staticClass:"search",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:t.searchFn}},[t._v("搜索")]),t._v(" "),a("router-link",{attrs:{to:"/domain/add"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"}},[t._v("新增")])],1)],1)])]),t._v(" "),a("div",[1==t.options?a("CommonPool",{ref:"commonPool",on:{loadStatus:t.getStatus}}):t._e(),t._v(" "),2==t.options?a("ExclusivePool",{ref:"exclusivePool",on:{loadStatus:t.getStatus}}):t._e(),t._v(" "),3==t.options?a("BackupPool",{ref:"backupPool"}):t._e(),t._v(" "),4==t.options?a("RubbishPool",{ref:"rubbishPool"}):t._e()],1)])},staticRenderFns:[]},S=a("VU/8")(k,F,!1,null,null,null);e.default=S.exports},MYFT:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.condition-screen-box[data-v-8ec66274] {\n  margin-right: 10px;\n  display: inline-block;\n}\n",""])},"VN/e":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.condition-screen-box[data-v-76a02927] {\n  margin-right: 10px;\n  display: inline-block;\n}\n",""])},cdFf:function(t,e,a){var i=a("MYFT");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("a577c6fa",i,!0)},r7A0:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.condition-screen-box[data-v-20f894b8] {\n  margin-right: 10px;\n  display: inline-block;\n}\n",""])}});