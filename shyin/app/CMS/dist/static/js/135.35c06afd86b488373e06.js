webpackJsonp([135],{"2J3A":function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},LPhE:function(n,t,e){var a=e("2J3A");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("53fbc2de",a,!0)},"VQt+":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("Dd8w"),i=e.n(a),l=e("NYxO"),o=e("0xDb"),s={name:"channelManaContentList",computed:i()({},Object(l.b)({cmCpList:"cmCpList"})),watch:{},data:function(){return{tableData:{data:[],total:0},loading:!1,params:{page:1},select_arr:[]}},created:function(){this.getTableData()},methods:{getTableData:function(){var n=this,t=this._.cloneDeep(this.params);this.loading=!0,this.$store.dispatch("getCpList",t).then(function(){n.loading=!1})},getExcel:function(){var n="/admin/cp_export?";n+="page="+this.params.page,0!=this.cmCpList.total?window.open(n):Object(o.i)("没有要导出的数据","warning")},deleteItem:function(n){var t=n.id,e=this;Object(o.d)("确定要删除吗?").then(function(){e.$store.dispatch("deleteCps",{id:t}).then(function(n){200==n.code&&(Object(o.i)("删除成功","success"),setTimeout(function(){e.getTableData()},1e3))})}).catch(function(){e.getTableData()})},handleCurrentChange:function(n){this.params.page=n,this.getTableData()},tableSelectChange:function(n){this.select_arr=n},deleteList:function(){for(var n="",t=this,e=this.select_arr,a={},i=0;i<e.length;i++)n+=e[i].id+",";n=n.substring(0,n.length-1),a.id=n,Object(o.d)("确定要批量删除吗？").then(function(){t.$store.dispatch("deleteCps",a).then(function(n){200==n.code&&(Object(o.i)("删除成功!","success"),setTimeout(function(){t.getTableData()},1e3))})}).catch(function(){t.getTableData()})}}},r={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"bar"},[e("div",{staticClass:"float-right",staticStyle:{"margin-bottom":"20px"}},[e("router-link",{attrs:{to:"/channelMana/contentList/add"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[n._v("新增")])],1),n._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:n.getExcel}},[n._v("导出EXCEL")])],1)]),n._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticStyle:{width:"100%","text-align":"center"},attrs:{data:n.cmCpList.data,border:"",stripe:"",id:"out-table","default-sort":{prop:"id",order:"string"}},on:{"selection-change":n.tableSelectChange}},[e("el-table-column",{attrs:{type:"selection",align:"center"}}),n._v(" "),e("el-table-column",{attrs:{prop:"id",label:"内容商ID","min-width":"80",fixed:"",align:"center"}}),n._v(" "),e("el-table-column",{attrs:{prop:"username",label:"内容商账号","min-width":"150","show-overflow-tooltip":"",align:"center"}}),n._v(" "),e("el-table-column",{attrs:{prop:"name",label:"内容商名称","min-width":"120",align:"center"}}),n._v(" "),e("el-table-column",{attrs:{prop:"contacts",label:"联系人","min-width":"120","show-overflow-tooltip":"",align:"center"}}),n._v(" "),e("el-table-column",{attrs:{prop:"mobile",label:"联系方式","min-width":"120","show-overflow-tooltip":"",align:"center"}}),n._v(" "),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("router-link",{attrs:{to:"/channelMana/contentList/edit/"+t.row.id}},[e("el-button",{attrs:{size:"mini",type:"primary"}},[n._v("编辑")])],1),n._v(" "),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){n.deleteItem(t.row)}}},[n._v("删除")])]}}])})],1),n._v(" "),e("div",{staticClass:"btn-box clearfix",staticStyle:{"margin-top":"20px"}},[e("el-button",{attrs:{type:"danger",disabled:0==n.select_arr.length},on:{click:n.deleteList}},[n._v("删除")])],1),n._v(" "),e("div",{staticClass:"pagination-container clearfix"},[e("div",{staticClass:"float-left"},[e("global-pagination",{attrs:{"current-page":n.params.page,"page-size":n.params.per_page,layout:"total, sizes, prev, pager, next, jumper",total:n.cmCpList.total},on:{"current-change":n.handleCurrentChange,"size-change":n.handleSizeChange}})],1)])],1)},staticRenderFns:[]};var c=e("VU/8")(s,r,!1,function(n){e("LPhE")},null,null);t.default=c.exports}});