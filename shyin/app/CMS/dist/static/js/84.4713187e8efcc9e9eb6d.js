webpackJsonp([84],{"M/vT":function(e,a,t){var n=t("aaNI");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t("rjj0")("b8ef090a",n,!0)},aaNI:function(e,a,t){(e.exports=t("FZ+f")(!1)).push([e.i,"",""])},nLLM:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("Xxa5"),r=t.n(n),i=t("exGp"),s=t.n(i),c=t("Dd8w"),o=t.n(c),l=t("NYxO"),u=t("G/K1"),p=t("0xDb"),v={name:"prevention",components:{},computed:o()({},Object(l.b)({})),data:function(){return{status:!0,list:[],pageList:[],select:"",pageSelect:"",way:"",wayArray:[{label:"不死鸟防封",value:1},{label:"中转直接跳落地",value:2},{label:"中转通过js跳落地",value:3}]}},mounted:function(){this.getDefault(),this.preventionDomainList(),this.pageDomainList()},methods:{wayChangeChange:function(){var e=this;return s()(r.a.mark(function a(){var t;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t={confName:"no_die_bird_use",status:Number(e.way)},a.next=3,u.putCPSConfUpdate(t);case 3:200===a.sent.code&&(Object(p.i)("修改成功~"),e.getDefault());case 5:case"end":return a.stop()}},a,e)}))()},getDefault:function(){var e=this;return s()(r.a.mark(function a(){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.getCPSConfInfo({type:"no_die_bird_use"});case 2:200===(t=a.sent).code&&(n=t.data,e.way=Number(n.status));case 4:case"end":return a.stop()}},a,e)}))()},preventionDomainList:function(){var e=this;return s()(r.a.mark(function a(){var t,n,i,s,c,o,l,p;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.preventionDomainList({});case 2:200==(t=a.sent).code&&(n=t.data,i=n.domains,s=void 0===i?[]:i,c=n.use,o=void 0===c?"":c,s.length&&(l=s.map(function(e,a){return{label:e,value:a}}),e.list=l,o?-1!=(p=s.indexOf(o))&&(e.select=p):e.select=""));case 4:case"end":return a.stop()}},a,e)}))()},pageDomainList:function(){var e=this;return s()(r.a.mark(function a(){var t,n,i,s,c,o,l,p;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.preventionPageList({});case 2:200==(t=a.sent).code&&(n=t.data,i=n.domains,s=void 0===i?[]:i,c=n.use,o=void 0===c?"":c,s.length&&(l=s.map(function(e,a){return{label:e,value:a}}),e.pageList=l,o?-1!=(p=s.indexOf(o))&&(e.pageSelect=p):e.pageSelect=""));case 4:case"end":return a.stop()}},a,e)}))()},domainChange:function(){var e=this.select,a=void 0===e?"":e,t=this.list;if(""!==a){var n=(void 0===t?[]:t).find(function(e){return e.value==a}).label,r={callFn:this.preventionDomainList,params:{domain:n},type:1};this.changeDomain(r)}},pageChange:function(){var e=this.pageSelect,a=void 0===e?"":e,t=this.pageList;if(""!==a){var n=(void 0===t?[]:t).find(function(e){return e.value==a}).label,r={callFn:this.pageDomainList,params:{domain:n},type:2};this.changeDomain(r)}},changeDomain:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(r.a.mark(function t(){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,1!=a.type){e.next=7;break}return e.next=4,u.preventionDomainChange(a.params);case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,u.preventionPageListChange(a.params);case 9:n=e.sent;case 10:200==n.code&&(Object(p.i)("修改成功~"),a.callFn());case 11:case"end":return e.stop()}},t,e)}))()}}},f={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"bar"},[t("span",{staticStyle:{"margin-right":"20px","font-size":"18px"}},[e._v("域名跳转方式")]),e._v(" "),t("el-select",{attrs:{placeholder:"请选择域名跳转方式"},on:{change:e.wayChangeChange},model:{value:e.way,callback:function(a){e.way=a},expression:"way"}},e._l(e.wayArray,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("div",{staticClass:"bar"},[t("span",{staticStyle:{"margin-right":"20px","font-size":"18px"}},[e._v("一级防封域名")]),e._v(" "),t("el-select",{attrs:{placeholder:"请选择域名"},on:{change:e.domainChange},model:{value:e.select,callback:function(a){e.select=a},expression:"select"}},e._l(e.list,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("div",{staticClass:"bar"},[t("span",{staticStyle:{"margin-right":"20px","font-size":"18px"}},[e._v("防封静态页域名")]),e._v(" "),t("el-select",{attrs:{placeholder:"请选择域名"},on:{change:e.pageChange},model:{value:e.pageSelect,callback:function(a){e.pageSelect=a},expression:"pageSelect"}},e._l(e.pageList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)])},staticRenderFns:[]};var d=t("VU/8")(v,f,!1,function(e){t("M/vT")},"data-v-84ddec8e",null);a.default=d.exports}});